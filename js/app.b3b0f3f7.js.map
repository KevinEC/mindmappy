{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MindmapTopic.vue?b60a","webpack:///./src/components/NewMindmapTopic.vue?19c5","webpack:///./src/App.vue","webpack:///./src/components/CanvasViewport.vue","webpack:///./src/components/CanvasViewport.vue?1ff9","webpack:///./src/components/MindmapTopics.vue","webpack:///./src/components/MindmapTopic.vue","webpack:///./src/components/MindmapTopic.vue?4433","webpack:///./src/components/TopicLinesSvg.vue","webpack:///./src/components/TopicLinesSvg.vue?bf8b","webpack:///./src/components/NewMindmapTopic.vue","webpack:///./src/components/NewMindmapTopic.vue?a007","webpack:///./src/components/PieMenu.vue","webpack:///./src/components/PieMenu.vue?d7a6","webpack:///./src/components/MindmapTopics.vue?e856","webpack:///./src/components/ResetBtn.vue","webpack:///./src/components/ResetBtn.vue?4c7c","webpack:///./src/App.vue?dfb6","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/components/PieMenu.vue?45e4","webpack:///./src/components/ResetBtn.vue?538b","webpack:///./src/components/CanvasViewport.vue?f256","webpack:///./src/springy.js","webpack:///./src/components/TopicLinesSvg.vue?cdb6","webpack:///./src/App.vue?5bcb"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","id","topics","allTopicsComputed","topicsLength","topicsLengthComputed","createNewTopic","createNewTopicPos","createNewTopicPosComputed","class","TWEEN","Springy","props","Number","height","allTopics","graph","createTopicObject","mouseData","prevSampleCounter","computed","watch","topicsMounted","this","getAllTopics","initGraph","mounted","init","animate","addEventListener","resize","$el","offsetWidth","offsetHeight","document","onKeyDown","onKeyUp","onKeyPress","handleMouseMove","handleMouseDown","handleMouseUp","methods","setSize","width","camera","aspect","updateProjectionMatrix","renderer","controls","handleResize","render","scene","initRenderer","CSS3DRenderer","appendChild","domElement","initCamera","position","z","setCamera","initControls","TrackballControls","enabled","rotateSpeed","zoomSpeed","panSpeed","noZoom","noPan","noRotate","staticMoving","dynamicDampingFactor","mouseButtons","LEFT","PAN","RIGHT","ROTATE","initScene","background","fog","setScene","initCreateTopic","querySelector","x","y","element","initCreatTopicIdleAnimation","add","updateSceneObjects","forEach","topic","pos","updateCreateTopicObject","collideWith","getCreatingTopic","setCreateTopicOpacity","requestAnimationFrame","update","collection","hit","otherTopic","Math","abs","e","preventDefault","setShiftKey","saveTopicsToLocalStorage","keyCode","menuKeyEvent","handleMenu","gBtnPressed","updateMouseData","xThree","yThree","pressed","updateCanvasMousePressed","pressedX","clientX","pressedY","clientY","setRemoveConnectionId","factor","mouseX","mouseY","prevXClient","prevYClient","deltaX","deltaY","speed","sqrt","pow","angle","atan","deltaXPressed","deltaYPressed","updateCanvasMouseMove","visibility","style","opacity","zIndex","Tween","scaleX","to","easing","Easing","Quadratic","InOut","repeat","Infinity","yoyo","onUpdate","scale","start","scaleY","delay","rotation","PI","Sinusoidal","button","btn","btnId","getMenuBtn","setMenuOption","right","title","nodes","edges","connections","connection","k","graphData","Graph","loadJSON","graphLayout","Layout","ForceDirected","coordFactor","setGraph","setGraphLayout","graphRenderer","Renderer","node","point","updateTopicById","updateData","graphNode","recalculateGraph","atCSS3DObjectInit","tabindex","classesComputed","selected","floating","floatAnimation","floatingTweens","blobAnimation","bornAnimationPlop","bornAnimationMovement","bornAnimationStart","born","localMenuActive","currMouseX","currMouseY","prevMouseX","prevMouseY","preventFloatingResume","selectedComputed","floatingComputed","root","getMenuActive","positionComputed","toFixed","handleMouseLeave","initCSS3DObject","$emit","initFloating","initBlobAnimation","initBornAninmation","canvasMouseMovement","handleCanvasMouseMove","deselectAllTopicsSignal","getSelectedTopics","newVal","handleFloatingAnimation","getCanvasMousePressed","setPressedTopic","getCanvasMouseMove","lerp","pressedObjX","pressedObjY","getTopicById","_isPlaying","stop","handleSelection","handleGraphNodeMouseDown","handleNewConnection","handleRemoveConnection","floatingPaused","handleGraphNodeMouseUp","initFloatAnimation","getRemoveConnectionId","setConnectionGlow","node1","node2","removeConnectionGlow","initNewConnection","initRemoveConnection","remove","removeNode","userData","getScene","getShiftKey","toggleSelectedTopic","deselectAllTopicsBut","toggleFloating","handleBlobAnimation","toggleFloatingTopic","type","setNewConnection","from","getCreatingNewConnection","getNewConnection","pushTopicConnection","positions","range","getTopicCoordinateExtremeties","minX","random","maxX","minY","maxY","startX","startY","tweens","duration","triggerFloatingTopicsSignal","tween","chain","undefined","lower","upper","Elastic","Out","plotDuration","bornAnimationPlopX","interpolation","Interpolation","CatmullRom","Back","onStart","bornAnimationPlopY","moveDuration","moveDelay","Cubic","springId","getGraphLayout","adjacency","values","edge","edgeSprings","connectedTopic","newKValue","newKValues","adjacentTopics","keys","connectionId","newK","removeConnection","console","log","parent","removeAdjacent","menu","containsLayeredOptions","payload","localConnectionFn","down","localRemoveFn","up","left","localRemoveConnectionFn","stopPropagation","dx","dy","stdDeviation","flood-color","blurComputed","svgWidth","svgHeight","xmlns","svg","getPressedTopicId","updateLines","creatingNewConnection","updateNewConnectionLine","removeNewConnectionLine","topicUpdatedSignal","updateAllLines","floatingTopicsSignal","updateFloatingLines","connectionRemovedSignal","removeLine","glowingConnection","setGlowingConnection","removeGlowingConnection","handleRemoveGlowingConnection","initLines","createLine","child","parentId","cssifyId","childId","pos1","threeToSvg","pos2","line","createElementNS","setAttribute","topicToUpdate","updateLine","topicsToUpdate","getFloatingTopics","floatingId","topic1","topic2","topic1Id","topic2Id","newConnectionType","getCamera","topicId1","topicId2","connectionsToRemove","replaceAll","replace","submitNewTopic","blur","newTopicPos","visible","initIdleAnimation","setCreatingTopic","setTimeout","focus","target","pushTopic","getGraph","newNode","oncontextmenu","hoverComputed","upOption","rightOption","leftOption","downOption","cancel","options","svgLine","leftElm","rightElm","upElm","downElm","hover","startPos","cameraAnimation","menuOptionsSignal","layeredMenu","getMenuOptions","setMenuActive","startCameraAnimation","setHover","menuKeyUpSignal","upAction","rightAction","leftAction","downAction","determineDirection","reverseCameraAnimation","initalCameraZ","org","hyp","adj","acos","createTopic","createNewNode","removeTopic","newConnection","regularConnection","weakConnection","components","MindmapTopic","NewMindmapTopic","PieMenu","TopicLinesSvg","allCSS3DObjects","setTopicsMounted","togglePrompt","promptComputed","resetLocalStorage","prompt","midBtn","gBtn","setMid","setG","midClass","gClass","localStorage","clear","setMenuBtn","CanvasViewport","MindmapTopics","ResetBtn","beforeCreate","$store","commit","store","createStore","state","canvasMousePressed","canvasMouseMove","pressedTopicId","creatingTopic","shiftKey","graphlayout","menuActive","menuBtn","selectedTopics","floatingTopics","mutations","INIT_TOPICS","savedTopics","getItem","JSON","parse","savedMenuBtn","SAVE_TOPICS_TO_LOCAL_STORAGE","topicsJson","stringify","setItem","SET_CANVAS_MOUSE_MOVE","SET_CANVAS_MOUSE_PRESSED","SET_SCENE","SET_NODES_PARENT","nodesParent","SET_CAMERA","CREATE_NEW_NODE","SET_CREATING_TOPIC","creating","PUSH_TOPIC","UPDATE_TOPIC_BY_ID","index","findIndex","SET_PRESSED_TOPIC_ID","topicId","SET_TOPICS_MOUNTED","TOGGLE_SELECTED_TOPIC","topicIndex","SET_SHIFT_KEY","DESELECT_ALL_TOPICS_BUT","TOGGLE_FLOATING_TOPIC_BY_ID","TRIGGER_FLOATING_TOPICS_SIGNAL","SET_GRAPH_LAYOUT","SET_GRAPH","SET_NEW_CONNECTION","PUSH_TOPIC_CONNECTION","force","toNode","newEdge","SET_REMOVE_CONNECTION_ID","removeConnectionId","REMOVE_CONNECTION","connected","id1","id2","indexToDelete","connectedNode","connRemoveId","find","source","removeEdge","REMOVE_NODE","SET_MENU_OPTION","menuOptions","SET_MENU_ACTIVE","active","SET_CONNECTION_GLOW","REMOVE_CONNECTION_GLOW","SET_MENU_BTN","MENU_KEY_EVENT","menuKeyDownSignal","actions","initTopics","mouseMoveData","pressedData","sceneData","setNodesParent","cameraData","creatingData","topicData","pushTopicObject","topicObjectData","setTopicObjects","topicObjectsData","getters","topicIdData","getTopicIndexById","getNodesParent","getSelectedTopicsLength","app","createApp","App","use","mount","factory","define","returnExportsGlobal","nodeSet","nextNodeId","nextEdgeId","eventListeners","Node","Edge","addNode","notify","addNodes","arguments","label","addEdge","exists","addEdges","TypeError","attr","json","String","getEdges","detachNode","tmpEdges","isEmpty","merge","directed","filterNodes","fn","tmpNodes","filterEdges","addGraphListener","obj","graphChanged","stiffness","repulsion","damping","minEnergyThreshold","maxSpeed","nodePoints","mass","Point","Vector","spring","existingSpring","Spring","point1","point2","eachNode","callback","eachEdge","eachSpring","applyCoulombsLaw","n1","n2","subtract","distance","magnitude","direction","normalise","applyForce","multiply","divide","applyHookesLaw","displacement","attractToCentre","updateVelocity","timestep","v","a","updatePosition","totalEnergy","__bind","me","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","onRenderStop","onRenderStart","_started","_stop","step","tick","nearest","min","getBoundingBox","bottomleft","topright","padding","v2","normal","layout","drawEdge","drawNode","onRenderFrame","done","Array","thisArg","T","O","len","toString","kValue"],"mappings":"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","file":"js/app.b3b0f3f7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/mindmappy/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./MindmapTopic.vue?vue&type=style&index=0&id=4d87442a&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NewMindmapTopic.vue?vue&type=style&index=0&id=2904ae66&lang=scss\"","<template>\r\n  <div id=\"app\">\r\n    <canvas-viewport\r\n      :topics=\"allTopicsComputed\"\r\n      :topicsLength=\"topicsLengthComputed\"\r\n      @createNewTopic=\"createNewTopic\"\r\n    />\r\n    <mindmap-topics\r\n      :createNewTopicPos=\"createNewTopicPosComputed\"\r\n    />\r\n    <reset-btn />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CanvasViewport from './components/CanvasViewport.vue';\r\nimport MindmapTopics from './components/MindmapTopics.vue';\r\nimport ResetBtn from './components/ResetBtn.vue';\r\n\r\nimport { mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n    CanvasViewport,\r\n    MindmapTopics,\r\n    ResetBtn\r\n  },\r\n  beforeCreate(){\r\n    this.$store.commit('INIT_TOPICS');\r\n  },\r\n  data() {\r\n    return {\r\n      allTopics: [],\r\n      createNewTopicPos: {},\r\n\t\t\ttopicsLength: null,\r\n    }\r\n  },\r\n  computed:{\r\n    createNewTopicPosComputed(){\r\n      return this.createNewTopicPos;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'initTopics'\r\n    ]),\r\n    createNewTopic(pos){\r\n      this.createNewTopicPos = pos;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url('https://fonts.googleapis.com/css2?family=Prompt:wght@500&family=Source+Sans+Pro:ital,wght@0,600;0,700;1,600&display=swap');\r\n:root{\r\n  --create-color: 53, 238, 223;\r\n}\r\nhtml, body {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\nbody {\r\n  margin: 0px;\r\n}\r\n#app {\r\n  height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"viewport\">\r\n    <div id=\"createTopicGraphics\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    Scene,\r\n    PerspectiveCamera,\r\n    Color,\r\n    FogExp2,\r\n    MOUSE,\r\n  } from \"three\"\r\n\r\nimport { mapActions, mapGetters, mapState } from 'vuex'\r\n\r\nimport { TrackballControls } from 'three/examples/jsm/controls/TrackballControls.js';\r\nimport { CSS3DRenderer, CSS3DObject } from 'three/examples/jsm/renderers/CSS3DRenderer.js';\r\n\r\n//import { createNoisyEasing } from \"../animate.js\"\r\nconst TWEEN = require('@tweenjs/tween.js')\r\nconst Springy = require('@/springy.js')\r\n\r\nexport default {\r\n  props: {\r\n    topics: Object,\r\n    topicsLength: Number\r\n  },\r\n  data () {\r\n    return {\r\n      height: 0,\r\n      allTopics: null,\r\n      graph: null,\r\n      createTopicObject: null,\r\n      mouseData: {\r\n        prevSampleCounter: 9\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'getCreatingTopic',\r\n      'getAllTopicsLength',\r\n      'getAllTopics',\r\n      'getShiftKey',\r\n      'getPressedTopicId',\r\n      'getTopicById',\r\n      'getMenuBtn'\r\n    ]),\r\n    ...mapState(['topicsMounted']),\r\n  },\r\n  watch: {\r\n    topicsMounted(){\r\n      this.allTopics = this.getAllTopics;\r\n      //this.updateSceneObjects();\r\n      if(this.graph === null)\r\n        this.initGraph();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.allTopics = this.topics;\r\n    this.init();\r\n    this.animate();\r\n\r\n    window.addEventListener(\"resize\", () => {\r\n      this.resize(this.$el.offsetWidth, this.$el.offsetHeight);\r\n    }, this);\r\n\r\n    document.addEventListener('keydown', this.onKeyDown);\r\n    document.addEventListener('keyup', this.onKeyUp);\r\n    document.addEventListener('keypress', this.onKeyPress);\r\n\r\n    this.$el.addEventListener('mousemove', this.handleMouseMove);\r\n\t\tthis.$el.addEventListener('mousedown', this.handleMouseDown);\r\n\t\tthis.$el.addEventListener('mouseup', this.handleMouseUp);\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'updateCanvasMouseMove',\r\n      'updateCanvasMousePressed',\r\n      'setScene',\r\n      'setCamera',\r\n      'updateTopicById',\r\n      'setShiftKey',\r\n      'deselectAllTopics',\r\n      'setGraph',\r\n      'setGraphLayout',\r\n      'setMenuOption',\r\n      'saveTopicsToLocalStorage',\r\n      \"setRemoveConnectionId\",\r\n      \"menuKeyEvent\"\r\n    ]),\r\n    setSize(){\r\n      this.width = this.$el.offsetWidth;\r\n      this.height = this.$el.offsetHeight;\r\n    },\r\n    resize(width, height){\r\n      this.camera.aspect = width / height;\r\n      this.camera.updateProjectionMatrix();\r\n      this.renderer.setSize(width, height);\r\n      this.controls.handleResize();\r\n      this.renderer.render(this.scene, this.camera);\r\n    },\r\n    initRenderer(){\r\n      this.renderer = new CSS3DRenderer();\r\n      this.renderer.setSize(this.width, this.height);\r\n      this.$el.appendChild(this.renderer.domElement);\r\n    },\r\n    initCamera(){\r\n      this.camera = new PerspectiveCamera(90, this.width / this.height, 1, 1000);\r\n      this.camera.position.z = 300;\r\n      this.setCamera(this.camera);\r\n    },\r\n    initControls(){\r\n      this.controls = new TrackballControls(\r\n        this.camera,\r\n        this.renderer.domElement\r\n      );\r\n      this.controls.enabled = false;\r\n      this.controls.rotateSpeed = 1.0;\r\n      this.controls.zoomSpeed = 0.2;\r\n      this.controls.panSpeed = 0.1;\r\n      this.controls.noZoom = false;\r\n      this.controls.noPan = false;\r\n      this.controls.noRotate = true;\r\n      this.controls.staticMoving = false;\r\n      this.controls.dynamicDampingFactor = 0.05;\r\n      this.controls.mouseButtons.LEFT = MOUSE.PAN;\r\n      this.controls.mouseButtons.RIGHT = MOUSE.ROTATE;\r\n    },\r\n    initScene(){\r\n      this.scene = new Scene();\r\n      this.scene.background = new Color(0xcccccc);\r\n      this.scene.fog = new FogExp2(0xcccccc, 0.002);\r\n      this.setScene(this.scene);\r\n    },\r\n    init(){\r\n      this.setSize();\r\n      this.initRenderer();\r\n      this.initCamera();\r\n      this.initControls();\r\n      this.initScene();\r\n      this.initCreateTopic();\r\n\r\n      this.renderer.render(this.scene, this.camera);\r\n      this.controls.addEventListener(\"change\", () => {\r\n        this.renderer.render(this.scene, this.camera);\r\n      });\r\n    },\r\n    initCreateTopic(){\r\n      this.createTopicObject = new CSS3DObject(this.$el.querySelector('#createTopicGraphics'));\r\n      this.createTopicObject.position.x = 0;\r\n      this.createTopicObject.position.y = 0;\r\n      this.createTopicObject.position.z = 0;\r\n      this.createTopicObject.width = this.createTopicObject.element.offsetWidth;\r\n      this.createTopicObject.height = this.createTopicObject.element.offsetHeight;\r\n      this.initCreatTopicIdleAnimation();\r\n\r\n      this.scene.add(this.createTopicObject);\r\n    },\r\n    updateSceneObjects(){\r\n      this.allTopics.forEach((topic) => {\r\n        //console.log(topic.object)\r\n        topic.object.position.x = topic.pos.x;\r\n        topic.object.position.y = topic.pos.y;\r\n        topic.object.position.z = 0;\r\n        \r\n        this.scene.add(topic.object);\r\n      }, this);\r\n    },\r\n    updateCreateTopicObject(x,y){\r\n      this.createTopicObject.position.x = x + this.camera.position.x;\r\n      this.createTopicObject.position.y = y + this.camera.position.y;\r\n    \r\n      if(this.collideWith(this.createTopicObject, this.allTopics) || this.getCreatingTopic)\r\n        this.setCreateTopicOpacity(false);\r\n      else \r\n        this.setCreateTopicOpacity(true);\r\n    },\r\n    animate(){\r\n      window.requestAnimationFrame(() => {\r\n        // optimization: calculate frame time and pass to TWEEN\r\n        this.animate();\r\n        TWEEN.update();\r\n        this.controls.update();\r\n        this.renderer.render(this.scene, this.camera);\r\n      });\r\n    },\r\n    collideWith(object, collection){\r\n      let hit = false;\r\n      collection.forEach((otherTopic) => {\r\n        if(Math.abs(object.position.x - otherTopic.object.position.x) < object.width &&\r\n           Math.abs(object.position.y - otherTopic.object.position.y) < object.height)\r\n        { hit = true; }\r\n      })\r\n      return hit;\r\n    },\r\n    onKeyDown(e){\r\n      if(e.key === \"Control\" || e.key === \"Alt\"){\r\n        this.controls.enabled = true;\r\n        this.setCreateTopicOpacity(false);\r\n        e.preventDefault();\r\n      }\r\n      if(e.key === \"Shift\") {\r\n        this.setShiftKey(true);\r\n      }\r\n      if(e.key === \"\" || e.key === \"\") {\r\n        this.saveTopicsToLocalStorage();\r\n      }\r\n      if(e.keyCode === 71 || e.keyCode === 103){\r\n        this.menuKeyEvent(\"down\");\r\n      }\r\n      this.handleMenu(e)\r\n    },\r\n    onKeyUp(e){\r\n      if(e.key === \"Control\" || e.key === \"Alt\"){\r\n        this.controls.enabled = false;\r\n        this.setCreateTopicOpacity(false);\r\n      }\r\n      if(e.key === \"Shift\") {\r\n        this.setShiftKey(false);\r\n      }\r\n      if(e.keyCode === 71 || e.keyCode === 103){\r\n        this.gBtnPressed = false\r\n        this.menuKeyEvent(\"up\");\r\n      }\r\n    },\r\n    handleMouseMove(e){\r\n      this.updateMouseData(e);\r\n      this.updateCreateTopicObject(this.mouseData.xThree, this.mouseData.yThree);\r\n\t\t},\r\n\t\thandleMouseDown(e){\r\n      this.pressed = true;\r\n      this.updateCanvasMousePressed(true);\r\n\t\t\tthis.pressedX = e.clientX; \r\n\t\t\tthis.pressedY = e.clientY;\r\n      //this.createNewTopic(e);\r\n      this.handleMenu(e);\r\n      this.setRemoveConnectionId(null)\r\n\t\t},\r\n\t\thandleMouseUp(){\r\n      this.pressed = false;\r\n\t\t\tthis.updateCanvasMousePressed(false);\r\n\t\t},\r\n    updateMouseData(e){\r\n      let factor = this.$el.offsetHeight / (this.camera.position.z * 2.0);\r\n      \r\n      let mouseX = (e.clientX - (this.$el.offsetWidth / 2))/factor;\r\n      let mouseY = (-e.clientY + (this.$el.offsetHeight / 2))/factor;\r\n\r\n      this.mouseData.xThree = mouseX;\r\n      this.mouseData.yThree = mouseY;\r\n\r\n      if(this.mouseData.prevSampleCounter === 9) {\r\n        this.mouseData.prevXClient = e.clientX;\r\n        this.mouseData.prevYClient = e.clientY;\r\n        this.mouseData.prevSampleCounter = 0;\r\n      }\r\n      this.mouseData.prevSampleCounter += 1;\r\n\r\n      let deltaX = e.clientX - this.mouseData.prevXClient;\r\n      let deltaY = e.clientY - this.mouseData.prevYClient;\r\n      let speed = Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2))\r\n      this.mouseData.speed = speed;\r\n\r\n      let angle = Math.atan(-deltaY/deltaX);\r\n      this.mouseData.angle = angle;\r\n      \r\n      if(this.pressed) {\r\n        let deltaXPressed = (e.clientX - this.pressedX) / factor;\r\n        let deltaYPressed = (-e.clientY + this.pressedY) / factor;\r\n        this.mouseData.deltaX = deltaXPressed;\r\n        this.mouseData.deltaY = deltaYPressed;\r\n        this.mouseData.pressedX = this.pressedX;\r\n        this.mouseData.pressedY = this.pressedY;\r\n\t\t\t}\r\n      this.updateCanvasMouseMove(this.mouseData);\r\n      //console.log(\"mousedata result: \", speed, angle*(180/Math.PI));\r\n      //console.log(\"mousedata result: \", \"deltaX:\",deltaX, \"deltaY:\",-deltaY, angle*(180/Math.PI));\r\n    },\r\n    setCreateTopicOpacity(visibility){\r\n      if(visibility){\r\n        this.createTopicObject.element.style.opacity = 1;\r\n        this.createTopicObject.element.style.zIndex = 10;\r\n      } else {\r\n        this.createTopicObject.element.style.opacity = 0;\r\n        this.createTopicObject.element.style.zIndex = -1;\r\n      }\r\n    },\r\n    initCreatTopicIdleAnimation(){\r\n      new TWEEN.Tween({scaleX: 0.98})\r\n        .to({scaleX: 1.015}, 750)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .repeat(Infinity)\r\n        .yoyo(true)\r\n        .onUpdate((object) => {\r\n          this.createTopicObject.scale.x = object.scaleX;\r\n        })\r\n        .start();\r\n\r\n      new TWEEN.Tween({scaleY: 0.995})\r\n        .to({scaleY: 1.01}, 750)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .repeat(Infinity)\r\n        .yoyo(true)\r\n        .delay(150)\r\n        .onUpdate((object) => {\r\n          this.createTopicObject.scale.y = object.scaleY;\r\n        })\r\n        .start();\r\n\r\n      new TWEEN.Tween({rotation: -Math.PI/4})\r\n        .to({rotation: Math.PI/4}, 4000)\r\n        .easing(TWEEN.Easing.Sinusoidal.InOut)\r\n        .yoyo(true)\r\n        .repeat(Infinity)\r\n        .onUpdate((object) => {\r\n          \r\n          this.createTopicObject.rotation.z = object.rotation;\r\n        })\r\n        //.start();\r\n    },\r\n    createNewTopic(e){\r\n      if(e.button === 1) // middle mb\r\n      {\r\n        //this.$emit('createNewTopic', {x: this.mouseData.xThree, y: this.mouseData.yThree});\r\n        this.createNewTopic({x: this.mouseData.xThree, y: this.mouseData.yThree});\r\n        this.setCreateTopicOpacity(false);\r\n      }\r\n    },\r\n    handleMenu(e){\r\n      let btnId = this.getMenuBtn;\r\n      let btn;\r\n      if(btnId == \"mouse\") btn = 1\r\n      if(btnId == \"g\") btn = 71;\r\n\r\n      if(e.button === btn || (e.keyCode === btn && !this.gBtnPressed)){\r\n        this.gBtnPressed = true;\r\n        this.setCreateTopicOpacity(false);\r\n        this.setMenuOption({\r\n          right: {title: \"create topic\", id: \"createTopic\"}, \r\n          //left: {title: \"gather topics\", id: \"gatherTopics\"}\r\n        });\r\n      }\r\n    },\r\n    initGraph(){\r\n      let nodes = [];\r\n      let edges = [];\r\n      this.getAllTopics.forEach(topic => {\r\n        nodes.push(\"\"+topic.id);\r\n        topic.connections.forEach(connection => {\r\n          edges.push([\"\"+topic.id, \"\"+connection.id, connection.k]);\r\n        });\r\n      });\r\n      let graphData = {\r\n        \"nodes\": nodes,\r\n        \"edges\": edges\r\n      };\r\n\r\n      this.graph = new Springy.Graph();\r\n      this.graph.loadJSON(graphData);\r\n\r\n      this.graphLayout = new Springy.Layout.ForceDirected(\r\n        this.graph,\r\n        120.0, // Spring stiffness\r\n        50.0, // Node repulsion\r\n        0.6, // Damping\r\n        0.0, // minEnergyThreshold\r\n        10 // maxSpeed\r\n      );\r\n\r\n      let x, y;\r\n      let coordFactor = 50;\r\n      this.setGraph(this.graph);\r\n      this.setGraphLayout(this.graphLayout);\r\n      this.graphRenderer = new Springy.Renderer(\r\n        this.graphLayout,\r\n        function clear() {\r\n          // code to clear screen\r\n        },\r\n        function drawEdge(/*edge, p1, p2*/) {\r\n          //console.log(\"edge data: \", edge, p1, p2);\r\n\r\n        },\r\n        (node, point) => { // drawNode\r\n          //console.log(\"node data: \", node, p);\r\n          x = point.p.x*coordFactor;\r\n          y = point.p.y*coordFactor;\r\n          this.updateTopicById({\r\n            id: node.id, \r\n            updateData: {\r\n              pos: {\r\n                x: x,\r\n                y: y\r\n              },\r\n              graphNode: {node, point}\r\n            }\r\n          })\r\n        }\r\n      );\r\n      this.graphRenderer.start();\r\n    },\r\n    recalculateGraph(){\r\n      this.getAllTopics.forEach(topic => {\r\n        topic.graphNode.point.p.x = topic.pos.x / 50;\r\n        topic.graphNode.point.p.y = topic.pos.y / 50;\r\n      })\r\n      this.graphRenderer.start();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .viewport {\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n  $createColor: rgba(53, 238, 223);\r\n  #createTopicGraphics{\r\n    position: relative;\r\n    width: 100px;\r\n    height: 100px;\r\n    padding: 10px;\r\n    border-radius: 100%;\r\n    background: transparent;\r\n    border: 1px solid rgba($createColor, 0.4);\r\n    box-shadow: 0 0 10px rgba($createColor, 0.2),\r\n                0 0 23px rgba($createColor, 0.1),\r\n                0 0 43px rgba($createColor, 0.09);\r\n    z-index: 10;\r\n    transition: opacity 0.2s ease-out;\r\n    opacity: 1;\r\n  }\r\n</style>","import { render } from \"./CanvasViewport.vue?vue&type=template&id=0a46df64\"\nimport script from \"./CanvasViewport.vue?vue&type=script&lang=js\"\nexport * from \"./CanvasViewport.vue?vue&type=script&lang=js\"\n\nimport \"./CanvasViewport.vue?vue&type=style&index=0&id=0a46df64&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"topics\">\r\n\t\t<topic-lines-svg /> \r\n\t\t<new-mindmap-topic :pos=\"createNewTopicPos\" />\r\n\t\t<pie-menu />\r\n\t\t<mindmap-topic v-for=\"(topic, i) in getAllTopics\"\r\n\t\t\t:data=\"topic\"\r\n\t\t\t@CSS3DObjectInit=\"atCSS3DObjectInit\"\r\n\t\t\t:key=\"topic.id\"\r\n\t\t\t:tabindex=\"i\"\r\n\t\t/>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport MindmapTopic from '@/components/MindmapTopic.vue';\r\nimport TopicLinesSvg from '@/components/TopicLinesSvg.vue';\r\nimport NewMindmapTopic from '@/components/NewMindmapTopic.vue';\r\nimport PieMenu from '@/components/PieMenu.vue';\r\n\r\nimport { mapActions, mapGetters } from \"vuex\"\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tMindmapTopic,\r\n\t\tNewMindmapTopic,\r\n\t\tPieMenu,\r\n\t\tTopicLinesSvg,\r\n\t},\r\n\tprops: {\r\n\t\tcreateNewTopicPos: Object\r\n\t},\r\n\tdata() {\r\n\t\treturn{\r\n\t\t\tallCSS3DObjects: []\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters(['getAllTopics']),\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions(['setTopicsMounted']),\r\n\t\tatCSS3DObjectInit(object){\r\n\t\t\tthis.allCSS3DObjects.push(object);\r\n\t\t\t//this.updateTopicById({id: object.userData.id, updateData: {object: object}});\r\n\r\n\r\n\t\t\t// hard coded replacement for watch. unreliable?\r\n\t\t\t// good performance tho\r\n\t\t\tif(this.allCSS3DObjects.length === this.getAllTopics.length) {\r\n\t\t\t\tthis.setTopicsMounted(true);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","<template>\r\n  <div class=\"topic\" :class=\"classesComputed\" :tabindex=\"-2\t\">\r\n\t\t{{ data.title }}\r\n\t\t<!-- {{ data.id }} -->\r\n\t\t<!-- <div>{{positionComputed}}</div>  -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { CSS3DObject } from 'three/examples/jsm/renderers/CSS3DRenderer.js';\r\nimport { MathUtils } from 'three';\r\nconst TWEEN = require('@tweenjs/tween.js')\r\n\r\nimport { mapGetters, mapState, mapActions } from 'vuex'\r\n\r\nexport default {\r\n\tprops:{\r\n\t\tdata: Object,\r\n\t\ttabindex: Number\r\n\t},\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tobject: null,\r\n\t\t\tid: null,\r\n\t\t\tselected: false,\r\n\t\t\tpressed: false,\r\n\t\t\tfloating: false,\r\n\t\t\tfloatAnimation: null,\r\n\t\t\tfloatingTweens: null,\r\n\t\t\tblobAnimation: null,\r\n\t\t\tbornAnimationPlop: null,\r\n\t\t\tbornAnimationMovement: null,\r\n\t\t\tbornAnimationStart: false,\r\n\t\t\tborn: false,\r\n\t\t\tlocalMenuActive: false,\r\n\t\t\tcurrMouseX: 0,\r\n\t\t\tcurrMouseY: 0,\r\n\t\t\tprevMouseX: 0,\r\n\t\t\tprevMouseY: 0,\r\n\t\t\tpreventFloatingResume: false,\r\n\t\t\tpos: {},\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\r\n\t\t\t'getCanvasMouseMove',\r\n\t\t\t'getCanvasMousePressed',\r\n\t\t\t'getShiftKey',\r\n\t\t\t'getSelectedTopicsLength',\r\n\t\t\t'getSelectedTopics',\r\n\t\t\t'getTopicCoordinateExtremeties',\r\n\t\t\t'getTopicById',\r\n\t\t\t'getGraph',\r\n\t\t\t'getScene',\r\n\t\t\t'getGraphLayout',\r\n\t\t\t'getCreatingNewConnection',\r\n\t\t\t'getNewConnection',\r\n\t\t\t'getRemoveConnectionId',\r\n\t\t\t'getMenuActive',\r\n\t\t\t'getMenuBtn'\r\n\t\t]),\r\n\t\t...mapState([\r\n\t\t\t'canvasMouseMove',\r\n\t\t\t'canvasMouseMovement',\r\n\t\t\t'deselectAllTopicsSignal',\r\n\t\t\t'topicUpdatedSignal',\r\n\t\t\t'menuKeyDownSignal'\r\n\t\t]),\r\n\t\tselectedComputed(){\r\n\t\t\treturn this.selected;\r\n\t\t},\r\n\t\tfloatingComputed(){\r\n\t\t\treturn this.floating;\r\n\t\t},\r\n\t\tclassesComputed(){\r\n\t\t\tlet result =\"\";\r\n\t\t\tif(this.selectedComputed) result += \"selected \";\r\n\t\t\tif(this.floatingComputed) result += \"floating \";\r\n\t\t\tif(this.data.root) result += \"root \";\r\n\t\t\tif(this.getMenuActive) result += \"blur \";\r\n\t\t\tif(this.born) result += \"bornAnimation \";\r\n\t\t\tif(this.bornAnimationStart) result += \"hide \";\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tpositionComputed(){\r\n\t\t\tif(this.object)\r\n\t\t\t\treturn `x: ${this.object.position.x.toFixed(0)}, y: ${this.object.position.y.toFixed(0)}, `\r\n\t\t\telse \r\n\t\t\t\treturn \"\";\r\n\t\t},\r\n\t},\r\n\tmounted() {\r\n\t\tthis.$el.addEventListener('mousemove', this.handleMouseMove);\r\n\t\tthis.$el.addEventListener('mouseleave', this.handleMouseLeave);\r\n\t\tthis.$el.addEventListener('mousedown', this.handleMouseDown);\r\n\t\tthis.$el.addEventListener('mouseup', this.handleMouseUp);\r\n\t\tthis.$el.addEventListener('keydown', this.onKeyDown);\r\n\r\n\r\n\t\tthis.id = this.data.id;\r\n\t\tthis.born = this.data.born;\r\n\t\tif(this.born) this.bornAnimationStart = true;\r\n\t\tthis.initCSS3DObject();\r\n\t\tthis.updateTopicById({id: this.id, updateData: {object: this.object}});\r\n\t\tthis.$emit('CSS3DObjectInit', this.object);\r\n\t\tthis.initFloating();\r\n\t\tthis.initBlobAnimation();\r\n\t\t\r\n\t\tif(this.data.born)\r\n\t\t\tthis.initBornAninmation();\r\n\t},\r\n\twatch: {\r\n\t\tcanvasMouseMovement(){\r\n\t\t\tthis.handleCanvasMouseMove();\r\n\t\t},\r\n\t\tdeselectAllTopicsSignal(){\r\n\t\t\tif(this.getSelectedTopics[0] !== this.id) {\r\n\t\t\t\tthis.selected = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tfloating(newVal){\r\n\t\t\tthis.handleFloatingAnimation(newVal);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\t...mapActions([\r\n\t\t\t'updateTopicById',\r\n\t\t\t'setPressedTopic',\r\n\t\t\t'toggleSelectedTopic',\r\n\t\t\t'deselectAllTopicsBut',\r\n\t\t\t'toggleFloatingTopic',\r\n\t\t\t'triggerFloatingTopicsSignal',\r\n\t\t\t'setNewConnection',\r\n\t\t\t'pushTopicConnection',\r\n\t\t\t'setRemoveConnectionId',\r\n\t\t\t'removeConnection',\r\n\t\t\t'removeNode',\r\n\t\t\t'setMenuOption',\r\n\t\t\t'setConnectionGlow',\r\n\t\t\t'removeConnectionGlow'\r\n\t\t]),\r\n\t\thandleCanvasMouseMove(){\r\n\t\t\tif(this.getCanvasMousePressed && this.pressed) {\r\n\t\t\t\tthis.setPressedTopic(this.id);\r\n\r\n\t\t\t\tthis.currMouseX = this.getCanvasMouseMove.deltaX;\r\n\t\t\t\tthis.currMouseY = this.getCanvasMouseMove.deltaY;\r\n\r\n\t\t\t\tthis.prevMouseX = MathUtils.lerp(this.prevMouseX, this.currMouseX, 0.1);\r\n\t\t\t\tthis.prevMouseY = MathUtils.lerp(this.prevMouseY, this.currMouseY, 0.1);\r\n\r\n\t\t\t\tlet x = this.pressedObjX + (this.currMouseX);\r\n\t\t\t\tlet y = this.pressedObjY + (this.currMouseY);\r\n\r\n\t\t\t\tthis.pos.x = x;\r\n\t\t\t\tthis.pos.y = y;\r\n\r\n\t\t\t\tthis.object.position.x = x;\r\n\t\t\t\tthis.object.position.y = y;\r\n\r\n\t\t\t\tthis.getTopicById(this.id).graphNode.point.p.x = x / 50;\r\n\t\t\t\tthis.getTopicById(this.id).graphNode.point.p.y = y / 50;\r\n\t\t\t\t\r\n\t\t\t\tthis.updateTopicById({\r\n\t\t\t\t\tid: this.id, \r\n\t\t\t\t\tupdateData: {\r\n\t\t\t\t\t\tpos:{\r\n\t\t\t\t\t\t\tx: x, \r\n\t\t\t\t\t\t\ty: y\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleMouseDown(e){\r\n\t\t\tif(e.button === 0) {\r\n\t\t\t\tthis.pressed = true;\r\n\t\t\t}\r\n\t\t\tif(this.bornAnimationMovement && this.bornAnimationMovement._isPlaying)\r\n\t\t\t{\r\n\t\t\t\tthis.born = false;\r\n\t\t\t\tthis.bornAnimationMovement.stop();\r\n\t\t\t}\r\n\t\t\tthis.pressedX = e.clientX; \r\n\t\t\tthis.pressedY = e.clientY;\r\n\r\n\t\t\tthis.pressedObjX = this.object.position.x; \r\n\t\t\tthis.pressedObjY = this.object.position.y;\r\n\r\n\t\t\tthis.setPressedTopic(this.id);\r\n\t\t\tthis.handleSelection();\r\n\t\t\tthis.handleMenu(e);\r\n\t\t\tthis.handleGraphNodeMouseDown();\r\n\t\t\tthis.handleNewConnection(e);\r\n\t\t\tthis.handleRemoveConnection();\r\n\t\t\t\r\n\t\t\tif(this.floating){\r\n\t\t\t\tthis.floatingPaused = true;\r\n\t\t\t\tthis.handleFloatingAnimation(false);\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t\thandleMouseUp(e){\r\n\t\t\tthis.pressed = false;\r\n\t\t\tthis.setPressedTopic(null);\r\n\t\t\tthis.handleGraphNodeMouseUp();\r\n\r\n\t\t\tif(this.floatingPaused && !this.preventFloatingResume) {\r\n\t\t\t\tthis.initFloatAnimation();\r\n\t\t\t\tthis.handleFloatingAnimation(true);\r\n\t\t\t\tthis.floatingPaused = false;\r\n\t\t\t}\r\n\t\t\tif(e.button === 1){\r\n\t\t\t\tthis.localMenuActive = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleMouseMove(){\r\n\t\t\t//connection removal in process\r\n\t\t\tif(this.getRemoveConnectionId != null){\r\n\t\t\t\tthis.setConnectionGlow({node1: this.id, node2: this.getRemoveConnectionId});\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleMouseLeave(){\r\n\t\t\t//connection removal in process\r\n\t\t\tif(this.getRemoveConnectionId != null){\r\n\t\t\t\tthis.removeConnectionGlow({node1: this.id, node2: this.getRemoveConnectionId});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonKeyDown(e){\r\n\t\t\tif(e.key == 'c' || e.key == 'C'){\r\n\t\t\t\tthis.initNewConnection(\"normal\");\r\n\t\t\t}\r\n\t\t\tif(e.key == 'x' || e.key == 'X'){\r\n\t\t\t\tthis.initNewConnection(\"weak\");\r\n\t\t\t}\r\n\t\t\tif(e.key == 'b' || e.key == 'B'){\r\n\t\t\t\tthis.initRemoveConnection();\r\n\t\t\t}\r\n\t\t\tif(e.key == 'n' || e.key == 'N'){\r\n\t\t\t\tthis.remove();\r\n\t\t\t\tthis.removeNode(this.id);\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitCSS3DObject(){\r\n\t\t\tif(this.object === null) {\r\n\t\t\t\tthis.object = new CSS3DObject(this.$el);\r\n\t\t\t\tthis.object.userData = this.data;\r\n\t\t\t\tthis.object.position.z = 0;\r\n\t\t\t\tthis.getScene.add(this.object);\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleSelection(){\r\n\t\t\tif(this.getShiftKey){\r\n\t\t\t\tthis.selected = !this.selected;\r\n\t\t\t\tthis.toggleSelectedTopic(this.id);\r\n\t\t\t} \r\n\t\t\telse {\r\n\t\t\t\tif(this.selected){\r\n\t\t\t\t\tthis.selected = false;\r\n\t\t\t\t\tthis.deselectAllTopicsBut(\"all\")\t\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.selected = true;\r\n\t\t\t\t\tthis.toggleSelectedTopic(this.id);\r\n\t\t\t\t\tthis.deselectAllTopicsBut(this.id)\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\ttoggleFloating(){\r\n\t\t\tthis.floating = !this.floating;\r\n\t\t\tif(this.floating){\r\n\t\t\t\tthis.initFloatAnimation();\r\n\t\t\t\tthis.preventFloatingResume = false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.preventFloatingResume = true;\r\n\t\t\t}\r\n\r\n\t\t\tthis.handleBlobAnimation()\r\n\t\t\tthis.toggleFloatingTopic(this.id);\r\n\t\t\t\r\n\t\t},\r\n\t\tinitNewConnection(type){\r\n\t\t\tthis.setNewConnection({from: this.id, to: null, type});\r\n\t\t},\r\n\t\thandleNewConnection(){\r\n\t\t\tif(this.getCreatingNewConnection && this.getNewConnection.from != this.id){\r\n\t\t\t\tlet connection = {from: this.getNewConnection.from, to: this.id, type: this.getNewConnection.type};\r\n\t\t\t\tthis.setNewConnection(connection);\r\n\t\t\t\tthis.pushTopicConnection(connection);\r\n\t\t\t}\r\n\t\t\t// if(e.button === 2) {\r\n\t\t\t\t\r\n\t\t\t// }\t\t\t\r\n\t\t},\r\n\t\tinitFloatAnimation(){\r\n\t\t\tlet n = 10;\r\n\t\t\tlet positions = [];\r\n\t\t\t// generate random positions\r\n\t\t\tlet range = this.getTopicCoordinateExtremeties;\r\n\t\t\tfor (let i = 0; i < n; i++) {\r\n\t\t\t\tconst x = range.minX + Math.random()*(Math.abs(range.minX - range.maxX));\r\n\t\t\t\tconst y = range.minY + Math.random()*(Math.abs(range.minY - range.maxY));\r\n\t\t\t\tpositions.push({x: x, y: y});\t\r\n\t\t\t}\r\n\r\n\t\t\t// create tweens\r\n\t\t\tlet tweens = [];\r\n\t\t\tlet startX, startY;\r\n\t\t\tlet duration = 10000; //10s\r\n\t\t\tfor (let i = 0; i < n; i++) {\r\n\t\t\t\tif(i == 0) {\r\n\t\t\t\t\tstartX = this.object.position.x;\r\n\t\t\t\t\tstartY = this.object.position.y;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartX = positions[i-1].x;\r\n\t\t\t\t\tstartY = positions[i-1].y;\r\n\t\t\t\t}\r\n\t\t\t\ttweens.push(\r\n\t\t\t\t\tnew TWEEN\r\n\t\t\t\t\t\t.Tween({\r\n\t\t\t\t\t\t\tx: startX,\r\n\t\t\t\t\t\t\ty: startY\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.to({\r\n\t\t\t\t\t\t\tx: positions[i].x,\r\n\t\t\t\t\t\t\ty: positions[i].y,\r\n\t\t\t\t\t\t}, duration)\r\n\t\t\t\t\t\t.easing(TWEEN.Easing.Quadratic.InOut)\r\n\t\t\t\t\t\t.onUpdate((object) => {\r\n\t\t\t\t\t\t\tthis.object.position.x = object.x;\r\n\t\t\t\t\t\t\tthis.object.position.y = object.y;\r\n\r\n\t\t\t\t\t\t\tif(this.getTopicById(this.id).graphNode) {\r\n\t\t\t\t\t\t\t\tthis.getTopicById(this.id).graphNode.point.p.x = object.x / 50;\r\n\t\t\t\t\t\t\t\tthis.getTopicById(this.id).graphNode.point.p.y = object.y / 50;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.updateTopicById({\r\n\t\t\t\t\t\t\t\tid: this.id, \r\n\t\t\t\t\t\t\t\tupdateData: {\r\n\t\t\t\t\t\t\t\t\tpos:{\r\n\t\t\t\t\t\t\t\t\t\tx: object.x, \r\n\t\t\t\t\t\t\t\t\t\ty: object.y\r\n\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.triggerFloatingTopicsSignal();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\ttweens.forEach((tween, i) => {\r\n\t\t\t\tif(i < tweens.length-1)\r\n\t\t\t\t\ttweens[i].chain(tweens[i+1])\r\n\t\t\t\telse\r\n\t\t\t\t\ttweens[tweens.length-1].chain(tweens[0]); // loop them\r\n\t\t\t})\r\n\t\t\tthis.floatAnimation = tweens[0]; \r\n\t\t\tthis.floatingTweens = tweens; // prevent garbage collection\r\n\t\t\t// does the remaining tweens get garbage collected??\r\n\t\t},\r\n\t\tinitFloating(){\r\n\t\t\tif(this.data.floating != undefined) {\r\n\t\t\t\tthis.floating = this.data.floating;\r\n\t\t\t\t// make sure the animation start position is updated\r\n\t\t\t\tif(this.floating){\r\n\t\t\t\t\tthis.object.position.x = this.data.pos.x;\r\n\t\t\t\t\tthis.object.position.y = this.data.pos.y;\r\n\t\t\t\t\tthis.initFloatAnimation();\r\n\t\t\t\t}\r\n\t\t\t\tthis.toggleFloatingTopic(this.id);\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitBlobAnimation(){\r\n\t\t\tlet lower = 0.2; \r\n\t\t\tlet upper = 1;\r\n\t\t\tthis.blobAnimation = new TWEEN\r\n\t\t\t\t.Tween({scaleX: lower, scaleY: lower})\r\n\t\t\t\t.to({scaleX: upper, scaleY: upper}, 750)\r\n\t\t\t\t.easing(TWEEN.Easing.Elastic.Out)\r\n\t\t\t\t.onUpdate(object => {\r\n\t\t\t\t\tthis.object.scale.x = object.scaleX;\r\n\t\t\t\t\tthis.object.scale.y = object.scaleY;\r\n\t\t\t\t});\r\n\t\t},\r\n\t\thandleBlobAnimation(){\r\n\t\t\tif(this.blobAnimation._isPlaying){\r\n\t\t\t\tthis.blobAnimation.stop();\r\n\t\t\t\tthis.blobAnimation.start();\r\n\t\t\t} else {\r\n\t\t\t\tthis.blobAnimation.start();\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleFloatingAnimation(floating){\r\n\t\t\tif(floating){\r\n\t\t\t\tthis.floatingTweens[0].start();\r\n\t\t\t} else {\r\n\t\t\t\t// find which tween is currently playing and stop it\r\n\t\t\t\tfor (const tween of this.floatingTweens) {\r\n\t\t\t\t\tif(tween._isPlaying){\r\n\t\t\t\t\t\ttween.stop();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitBornAninmation(){\r\n\t\t\tthis.born = false;\r\n\r\n\t\t\tlet plotDuration = 650;\r\n\t\t\tthis.bornAnimationPlopX = new TWEEN\r\n\t\t\t\t.Tween({\r\n\t\t\t\t\tscaleX: 0.2, \r\n\t\t\t\t})\r\n\t\t\t\t.to({scaleX: [\r\n\t\t\t\t\t1.4, 1\r\n\t\t\t\t]}, plotDuration)\r\n\t\t\t\t.delay(200)\r\n\t\t\t\t.interpolation(TWEEN.Interpolation.CatmullRom)\r\n\t\t\t\t.easing(TWEEN.Easing.Back.Out)\r\n\t\t\t\t.onStart(()=>{\r\n\t\t\t\t\tthis.born = true;\r\n\t\t\t\t\tthis.bornAnimationStart = false;\r\n\t\t\t\t})\r\n\t\t\t\t.onUpdate(object => {\r\n\t\t\t\t\tthis.object.scale.x = object.scaleX;\r\n\t\t\t\t})\r\n\t\t\t\t.start();\r\n\r\n\t\t\tthis.bornAnimationPlopY = new TWEEN\r\n\t\t\t\t.Tween({\r\n\t\t\t\t\tscaleY: 0,\r\n\t\t\t\t})\r\n\t\t\t\t.to({ scaleY: [\r\n\t\t\t\t\t0.8, 1.7, 1\r\n\t\t\t\t]}, plotDuration)\r\n\t\t\t\t.delay(200)\r\n\t\t\t\t.interpolation(TWEEN.Interpolation.CatmullRom)\r\n\t\t\t\t.easing(TWEEN.Easing.Back.Out)\r\n\t\t\t\t.onStart(()=>{\r\n\t\t\t\t\tthis.born = true;\r\n\t\t\t\t\tthis.bornAnimationStart = false;\r\n\t\t\t\t})\r\n\t\t\t\t.onUpdate(object => {\r\n\t\t\t\t\tthis.object.scale.y = object.scaleY;\r\n\t\t\t\t})\r\n\t\t\t\t.start();\r\n\t\t\t\r\n\t\t\tlet moveDuration = (1900 + Math.random()*900).toFixed(0);\r\n\t\t\tlet moveDelay = (Math.random()*400).toFixed(0);\r\n\t\t\tthis.bornAnimationMovement = new TWEEN\r\n\t\t\t\t.Tween({\r\n\t\t\t\t\tx: this.data.pos.x, \r\n\t\t\t\t\ty: this.data.pos.y,\r\n\t\t\t\t})\r\n\t\t\t\t.to({\r\n\t\t\t\t\tx: this.data.pos.x - 20 + Math.random()*40, \r\n\t\t\t\t\ty: this.data.pos.y - 20 + Math.random()*40, \r\n\t\t\t\t}, moveDuration)\r\n\t\t\t\t.delay(moveDelay)\r\n\t\t\t\t.repeat(Infinity)\r\n\t\t\t\t.yoyo(true)\r\n\t\t\t\t.easing(TWEEN.Easing.Cubic.Out)\r\n\t\t\t\t.onUpdate(object => {\r\n\t\t\t\t\tthis.object.position.x = object.x;\r\n\t\t\t\t\tthis.object.position.y = object.y;\r\n\r\n\t\t\t\t\tif(this.getTopicById(this.id).graphNode) {\r\n\t\t\t\t\t\tthis.getTopicById(this.id).graphNode.point.p.x = object.x / 50;\r\n\t\t\t\t\t\tthis.getTopicById(this.id).graphNode.point.p.y = object.y / 50;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t).start();\r\n\r\n\t\t},\r\n\t\thandleGraphNodeMouseDown(){\r\n\t\t\tif(this.getTopicById(this.id).graphNode && this.getGraphLayout.graph.adjacency[this.id]){\r\n\t\t\t\tthis.getTopicById(this.id).graphNode.point.m = 100;\r\n\t\t\t\tlet springId;\r\n\t\t\t\tif(!this.getCreatingNewConnection) {\r\n\t\t\t\t\tObject.values(this.getGraphLayout.graph.adjacency[this.id]).forEach(edge => {\r\n\t\t\t\t\t\t//console.log(edge[0].id);\r\n\t\t\t\t\t\tspringId = edge[0].id;\r\n\t\t\t\t\t\tthis.getGraphLayout.edgeSprings[springId].k = 20;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\thandleGraphNodeMouseUp(){\r\n\t\t\tif(this.getTopicById(this.id).graphNode && this.getGraphLayout.graph.adjacency[this.id]){\r\n\t\t\t\tthis.getTopicById(this.id).graphNode.point.m = 1;\r\n\t\r\n\t\t\t\tlet connectedTopic, newKValue;\r\n\t\t\t\tlet newKValues = {};\r\n\t\t\t\t\r\n\t\t\t\tthis.data.connections.forEach(connection => {\r\n\t\t\t\t\tif(connection.type != \"weak\"){\r\n\t\t\t\t\t\tconnectedTopic = this.getTopicById(connection.id);\r\n\t\t\t\t\t\tnewKValue = Math.sqrt(\r\n\t\t\t\t\t\t\tMath.pow(this.pos.x - connectedTopic.pos.x, 2) +\r\n\t\t\t\t\t\t\tMath.pow(this.pos.y - connectedTopic.pos.y, 2)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tnewKValues[connection.id] = newKValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tlet springId;\r\n\t\t\t\tlet adjacentTopics = this.getGraphLayout.graph.adjacency[this.id];\r\n\t\t\t\tObject.keys(adjacentTopics).forEach(connectionId => {\r\n\t\t\t\t\tspringId = adjacentTopics[connectionId][0].id;\r\n\t\t\t\t\tif(newKValues[connectionId]) {\r\n\t\t\t\t\t\tlet newK = (1 / newKValues[connectionId]) * 10000;\r\n\t\t\t\t\t\tthis.getGraphLayout.edgeSprings[springId].k  = newK;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitRemoveConnection(){\r\n\t\t\tthis.setRemoveConnectionId(this.id);\r\n\t\t},\r\n\t\thandleRemoveConnection(){\r\n\t\t\tif(this.getRemoveConnectionId != null){\r\n\t\t\t\tthis.removeConnection({from: this.getRemoveConnectionId, to: this.id});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"no connection to remove here!\")\r\n\t\t\t}\r\n\t\t},\r\n\t\tremove(){\r\n\t\t\tthis.object.parent.remove(this.object);\r\n\t\t\tthis.data.connections.forEach(connection => {\r\n\t\t\t\tthis.removeConnection({from: this.id, to: connection.id, removeAdjacent: true});\r\n\t\t\t})\r\n\t\t},\r\n\t\thandleMenu(e){\r\n\t\t\tlet btnId = this.getMenuBtn;\r\n\t\t\tlet btn;\r\n\t\t\tif(btnId == 'mouse') btn = 1;\r\n\t\t\tif(btnId == 'g') btn = 71;\r\n\t\t\tconsole.log(\"btn id in topic\", btn);\r\n\t\t\tif(e.button === 1){\r\n\t\t\t\tlet menu = {\r\n\t\t\t\t\tcontainsLayeredOptions: true,\r\n\t\t\t\t\tright: {title: \"new connection\", id: \"newConnection\", payload: { localConnectionFn: this.initNewConnection} },\r\n\t\t\t\t\tdown: {title: \"remove topic\", id: \"removeTopic\", payload: {localRemoveFn: this.remove, id: this.id}},\r\n\t\t\t\t\tup: {title: \"toggle floating\", id: \"toggleFloating\", payload: { toggleFloating: this.toggleFloating}},\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif(this.getSelectedTopics.length === 1){\r\n\t\t\t\t\tmenu.left = { title: \"remove connection\", id: \"removeConnection\", payload: {localRemoveConnectionFn: this.initRemoveConnection}}\r\n\t\t\t\t}\r\n\t\t\t\tthis.setMenuOption(menu);\r\n\t\t\t\tif(e) e.stopPropagation();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.topic{\r\n\tposition: absolute;\r\n\tdisplay: flex;\r\n\tflex-flow: column wrap;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\ttext-align: center;\r\n\tborder-radius: 300px;\r\n\tmax-width: 100px;\r\n\tborder: 1px solid rgb(235, 235, 235);\r\n\tpadding: 10px 15px;\r\n\tbackground-color: white;\r\n\ttext-transform: capitalize;\r\n\tbox-shadow: \r\n\t\t\t\t0 0 2px rgba(0,0,0,0.1),\r\n\t\t\t\t0 0 5px rgba(0,0,0,0.08),\r\n\t\t\t\t0 0 15px rgba(0,0,0,0.15);\r\n\tfont-family: 'Source Sans Pro';\r\n\t// transition: 0.25s ease-in-out width,\r\n\t// \t\t\t0.25s ease-in-out height,\r\n\t// \t\t\t0.05s ease-in filter,\r\n\t// \t\t\t0.25s ease-in border-radius;\r\n\r\n\r\n\t&:focus{\r\n\t\toutline: 0;\r\n\t}\r\n\t&.selected{\r\n\t\tborder-color: rgba(var(--create-color));\r\n\t}\r\n\t&.floating{\r\n\t\twidth: 100px;\r\n\t\tpadding: 10px;\r\n\t\theight: 100px;\r\n\t\tborder-radius: 100%;\r\n\t}\r\n\t&.root{\r\n\t\tfont-size: 20px;\r\n\t\tpadding: 10px;\r\n\t\tfont-weight: 700;\r\n\t\ttext-transform: capitalize;\r\n\t}\r\n\t&.blur{\r\n\t\tfilter: blur(1px);\r\n\t}\r\n\t&.hide{\r\n\t\topacity: 0;\r\n\t}\r\n\t&.bornAnimation{\r\n\t\tanimation: shine .74s ease-out;\r\n\t}\r\n\r\n\t@keyframes shine {\r\n\t\t0%{\r\n\t\t\twidth: 100px;\r\n\t\t\tpadding: 10px;\r\n\t\t\theight: 100px;\r\n\t\t\tborder-radius: 100%;\r\n\t\t\tbox-shadow: 0 0 10px rgba(var(--create-color), 0.6),\r\n\t\t\t\t\t\t0 0 40px rgba(var(--create-color), 0.4)\r\n\t\t\t\t\t\t// 0 0 2px rgba(var(--create-color),0.1),\r\n\t\t\t\t\t\t// 0 0 5px rgba(var(--create-color),0.08),\r\n\t\t\t\t\t\t// 0 0 15px rgba(var(--create-color),0.15)\r\n\t\t}\r\n\t\t25%{\r\n\t\t\tbox-shadow: 0 0 20px rgba(var(--create-color), 0.6),\r\n\t\t\t\t\t\t0 0 55px rgba(var(--create-color), 0.4)\r\n\t\t}\r\n\t\t90%{\r\n\t\t\twidth: 100px;\r\n\t\t\tpadding: 10px;\r\n\t\t\theight: 100px;\r\n\t\t\tborder-radius: 100%;\r\n\t\t}\r\n\t\t98%{\r\n\t\t\twidth: 70px;\r\n\t\t\tpadding: 10px;\r\n\t\t\theight: 70px;\r\n\t\t\tborder-radius: 100%;\r\n\t\t}\r\n\t\t100%{\r\n\t\t\t\r\n\t\t\tbox-shadow: 0 0 2px rgba(0,0,0,0.1),\r\n\t\t\t\t\t\t0 0 5px rgba(0,0,0,0.08),\r\n\t\t\t\t\t\t0 0 15px rgba(0,0,0,0.15);\r\n\t\t}\r\n\t}\r\n}\r\n</style>","import { render } from \"./MindmapTopic.vue?vue&type=template&id=4d87442a\"\nimport script from \"./MindmapTopic.vue?vue&type=script&lang=js\"\nexport * from \"./MindmapTopic.vue?vue&type=script&lang=js\"\n\nimport \"./MindmapTopic.vue?vue&type=style&index=0&id=4d87442a&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div id=\"topicLinesRoot\" :class=\"blurComputed\">\r\n\t\t<svg :width=\"svgWidth\" :height=\"svgHeight\" id=\"topicLinesSvg\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<defs>\r\n\t\t\t\t<filter id=\"red-glow\">\r\n\t\t\t\t\t<feDropShadow dx=\"0\" dy=\"0\" stdDeviation=\"2.5\"\r\n\t\t\t\t\t\tflood-color=\"red\"/>\r\n\t\t\t\t</filter>\r\n\t\t\t</defs>\r\n\t\t</svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from \"vuex\"\r\nimport { CSS3DObject } from 'three/examples/jsm/renderers/CSS3DRenderer.js';\r\n\r\nexport default {\r\n\tdata(){\r\n\t\treturn {\r\n\t\t\tobject: null,\r\n\t\t\tsvg: null,\r\n\t\t\tsvgWidth: 10000,\r\n\t\t\tsvgHeight: 10000,\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapGetters([\r\n\t\t\t'getScene',\r\n\t\t\t'getAllTopics',\r\n\t\t\t'getTopicById',\r\n\t\t\t'getCanvasMousePressed',\r\n\t\t\t'getPressedTopicId',\r\n\t\t\t'getFloatingTopics',\r\n\t\t\t'getNewConnection',\r\n\t\t\t'getCanvasMouseMove',\r\n\t\t\t'getMenuActive',\r\n\t\t\t'getCamera'\r\n\t\t]),\r\n\t\t...mapState([\r\n\t\t\t'canvasMouseMovement',\r\n\t\t\t'floatingTopicsSignal',\r\n\t\t\t'topicUpdatedSignal',\r\n\t\t\t'creatingNewConnection',\r\n\t\t\t'connectionRemovedSignal',\r\n\t\t\t'connectionsToRemove',\r\n\t\t\t'glowingConnection',\r\n\t\t\t'removeGlowingConnection'\r\n\t\t]),\r\n\t\tblurComputed(){\r\n\t\t\tif(this.getMenuActive) return \"blur\"\r\n\t\t\treturn \"\"\r\n\t\t}\r\n\t},\r\n\tmounted(){\r\n\t\tthis.init();\r\n\t},\r\n\twatch: {\r\n\t\tcanvasMouseMovement(){\r\n\t\t\tif(this.getPressedTopicId){\r\n\t\t\t\tthis.updateLines();\r\n\t\t\t}\r\n\t\t\tif(this.creatingNewConnection){\r\n\t\t\t\tthis.updateNewConnectionLine();\r\n\t\t\t} else {\r\n\t\t\t\tthis.removeNewConnectionLine();\r\n\t\t\t}\r\n\t\t},\r\n\t\ttopicUpdatedSignal(){\r\n\t\t\tthis.updateAllLines();\r\n\t\t},\r\n\t\tfloatingTopicsSignal(){\r\n\t\t\tthis.updateFloatingLines();\r\n\t\t},\r\n\t\tconnectionRemovedSignal(){\r\n\t\t\tthis.removeLine();\r\n\t\t},\r\n\t\tglowingConnection(connection){\r\n\t\t\tthis.setGlowingConnection(connection);\r\n\t\t},\r\n\t\tremoveGlowingConnection(connection){\r\n\t\t\tthis.handleRemoveGlowingConnection(connection);\r\n\t\t},\r\n\t},\r\n\tmethods: {\r\n\t\tinit(){\r\n\t\t\tthis.svg = this.$el.querySelector(\"#topicLinesSvg\");\r\n\t\t\tthis.object = new CSS3DObject(this.$el);\r\n\t\t\tthis.getScene.add(this.object);\r\n\t\t\tthis.initLines();\r\n\t\t},\r\n\t\tinitLines(){\r\n\t\t\tthis.getAllTopics.forEach(topic => {\r\n\t\t\t\tif(topic.connections.length > 0) {\r\n\t\t\t\t\ttopic.connections.forEach(connection => {\r\n\t\t\t\t\t\tthis.createLine(topic, this.getTopicById(connection.id), connection.type)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tcreateLine(parent, child, type){\r\n\t\t\tlet parentId = this.cssifyId(parent.id)\r\n\t\t\tlet childId = this.cssifyId(child.id)\r\n\t\t\tif(this.svg.querySelector(`.line${parentId}.line${childId}`) == undefined){\r\n\t\t\t\tlet pos1 = this.threeToSvg(parent.pos);\r\n\t\t\t\tlet pos2 = this.threeToSvg(child.pos);\r\n\t\t\t\tlet line = document.createElementNS('http://www.w3.org/2000/svg','line');\r\n\t\t\t\tline.setAttribute('class','line line'+parentId+' line'+childId);\r\n\t\t\t\tline.setAttribute('x1',`${pos1.x}`);\r\n\t\t\t\tline.setAttribute('y1',`${pos1.y}`);\r\n\t\t\t\tline.setAttribute('x2',`${pos2.x}`);\r\n\t\t\t\tline.setAttribute('y2',`${pos2.y}`);\r\n\r\n\t\t\t\tif(type == undefined || type == \"normal\") {\r\n\t\t\t\t\tline.setAttribute(\"stroke\", \"black\");\r\n\t\t\t\t\tline.setAttribute(\"stroke-width\", \"2\");\r\n\t\t\t\t}\r\n\t\t\t\telse if(type == \"weak\") {\r\n\t\t\t\t\tline.setAttribute(\"stroke\", \"black\");\r\n\t\t\t\t\tline.setAttribute(\"stroke-dasharray\", \"5,5\");\r\n\t\t\t\t\tline.setAttribute(\"stroke-width\", \"1\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.svg.appendChild(line);\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateLines(){\r\n\t\t\tlet topicToUpdate = this.getTopicById(this.getPressedTopicId);\r\n\t\t\tif(topicToUpdate == undefined) return;\r\n\t\t\ttopicToUpdate.connections.forEach(connection => {\r\n\t\t\t\tthis.updateLine(topicToUpdate, this.getTopicById(connection.id));\r\n\t\t\t})\r\n\t\t},\r\n\t\tupdateAllLines(){\r\n\t\t\tthis.getAllTopics.forEach(topic => {\r\n\t\t\t\ttopic.connections.forEach(connection => {\r\n\t\t\t\t\tthis.updateLine(topic, this.getTopicById(connection.id));\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tupdateFloatingLines(){\r\n\t\t\tlet topicsToUpdate = this.getFloatingTopics;\r\n\t\t\tlet topicToUpdate;\r\n\t\t\ttopicsToUpdate.forEach(floatingId =>{\r\n\t\t\t\ttopicToUpdate = this.getTopicById(floatingId);\r\n\t\t\t\ttopicToUpdate.connections.forEach(connection => {\r\n\t\t\t\t\tthis.updateLine(topicToUpdate, this.getTopicById(connection.id));\r\n\t\t\t\t})\r\n\r\n\t\t\t})\r\n\t\t},\r\n\t\tupdateLine(topic1, topic2){\r\n\t\t\tif(topic1 && topic2) {\r\n\t\t\t\tlet topic1Id = this.cssifyId(topic1.id);\r\n\t\t\t\tlet topic2Id = this.cssifyId(topic2.id);\r\n\t\t\t\tlet line = this.svg.querySelector(`.line${topic1Id}.line${topic2Id}`);\r\n\t\t\t\tif(line == undefined){\r\n\t\t\t\t\tthis.createLine(topic1, topic2, this.newConnectionType);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t} \r\n\t\t\t\t\t\r\n\t\t\t\tlet pos1 = this.threeToSvg(topic1.pos);\r\n\t\t\t\tlet pos2 = this.threeToSvg(topic2.pos);\r\n\t\t\t\tline.setAttribute('x1',`${pos1.x}`);\r\n\t\t\t\tline.setAttribute('y1',`${pos1.y}`);\r\n\t\t\t\tline.setAttribute('x2',`${pos2.x}`);\r\n\t\t\t\tline.setAttribute('y2',`${pos2.y}`);\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdateNewConnectionLine(){\r\n\t\t\tlet mouseData = this.getCanvasMouseMove;\r\n\r\n\t\t\tlet from = this.getTopicById(this.getNewConnection.from).object.position;\r\n\t\t\t//console.log(\"camera\", this.getCamera.position)\r\n\t\t\tlet to = {x: (mouseData.xThree + this.getCamera.position.x), y: mouseData.yThree + this.getCamera.position.y};\r\n\t\t\t\r\n\t\t\tlet pos1 = this.threeToSvg(from);\r\n\t\t\tlet pos2 = this.threeToSvg(to);\r\n\r\n\t\t\tlet line = this.svg.querySelector(\"#newConnectionLine\")\r\n\t\t\tif(line == undefined) line = document.createElementNS('http://www.w3.org/2000/svg','line');\r\n\r\n\t\t\tline.setAttribute('id','newConnectionLine');\r\n\t\t\tline.setAttribute('x1',`${pos1.x}`);\r\n\t\t\tline.setAttribute('y1',`${pos1.y}`);\r\n\t\t\tline.setAttribute('x2',`${pos2.x}`);\r\n\t\t\tline.setAttribute('y2',`${pos2.y}`);\r\n\r\n\t\t\tthis.newConnectionType = this.getNewConnection.type;\r\n\t\t\tif(this.getNewConnection.type == \"normal\") {\r\n\t\t\t\tline.setAttribute(\"stroke\", \"black\");\r\n\t\t\t\tline.setAttribute(\"stroke-width\", \"2\");\r\n\t\t\t}\r\n\t\t\telse if(this.getNewConnection.type == \"weak\") {\r\n\t\t\t\tline.setAttribute(\"stroke\", \"black\");\r\n\t\t\t\tline.setAttribute(\"stroke-dasharray\", \"5,5\");\r\n\t\t\t\tline.setAttribute(\"stroke-width\", \"1\");\r\n\t\t\t}\r\n\t\t\tthis.svg.appendChild(line);\r\n\t\t},\r\n\t\tremoveNewConnectionLine(){\r\n\t\t\tlet line = this.svg.querySelector(\"#newConnectionLine\");\r\n\t\t\tif(line) {\r\n\t\t\t\tline.remove();\r\n\t\t\t\tthis.updateAllLines();\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveLine(){\r\n\t\t\tlet topicId1, topicId2;\r\n\t\t\tconsole.log(\"connectionsToRemove\", this.connectionsToRemove)\r\n\t\t\tthis.connectionsToRemove.forEach(connection => {\r\n\t\t\t\ttopicId1 = this.cssifyId(connection.from);\r\n\t\t\t\ttopicId2 = this.cssifyId(connection.to);\r\n\t\t\t\t//console.log(\"line ids to remove: \", this.removedConnection);\r\n\t\t\t\tthis.svg.querySelector(`.line${topicId1}.line${topicId2}`).remove();\r\n\r\n\t\t\t})\r\n\t\t},\r\n\t\tsetGlowingConnection(connection){\r\n\t\t\tif(connection){\r\n\t\t\t\tlet topicId1 = this.cssifyId(connection.node1);\r\n\t\t\t\tlet topicId2 = this.cssifyId(connection.node2);\r\n\t\t\t\tlet line = this.svg.querySelector(`.line${topicId1}.line${topicId2}`)\r\n\t\t\t\tif(line){\r\n\t\t\t\t\tline.setAttribute('style', `\r\n\t\t\t\t\t\tfilter: url(#red-glow);\r\n\t\t\t\t\t\tstroke: rgb(255, 87, 87);\r\n\t\t\t\t\t`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleRemoveGlowingConnection(connection){\r\n\t\t\tif(connection){\r\n\t\t\t\tlet topicId1 = this.cssifyId(connection.node1);\r\n\t\t\t\tlet topicId2 = this.cssifyId(connection.node2);\r\n\t\t\t\tlet line = this.svg.querySelector(`.line${topicId1}.line${topicId2}`)\r\n\t\t\t\tif(line){\r\n\t\t\t\t\tline.setAttribute('style', `\r\n\t\t\t\t\t\tstroke: black;\r\n\t\t\t\t\t`);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tthreeToSvg(pos){\r\n\t\t\tlet x = pos.x + this.svgWidth / 2;\r\n\t\t\tlet y = (-pos.y + this.svgHeight / 2);\r\n\t\t\treturn {x: x, y: y}\r\n\t\t},\r\n\t\tcssifyId(id){\r\n\t\t\tid += \"\";\r\n\t\t\t//console.log(\"cssified id before:\", id);\r\n\t\t\tid = id.replaceAll(\" \", \"-\")\r\n\t\t\tid = id.replace(/[^a-zA-Z0-9 ]/g, \"\")\r\n\t\t\treturn id;\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.line{\r\n\ttransition: all 0.15s ease-out;\r\n\r\n}\r\n#topicLinesRoot{\r\n\r\n\t&.blur{\r\n\t\tfilter: blur(1px);\r\n\t}\r\n}\r\n\r\n</style>","import { render } from \"./TopicLinesSvg.vue?vue&type=template&id=21aa41db\"\nimport script from \"./TopicLinesSvg.vue?vue&type=script&lang=js\"\nexport * from \"./TopicLinesSvg.vue?vue&type=script&lang=js\"\n\nimport \"./TopicLinesSvg.vue?vue&type=style&index=0&id=21aa41db&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div class=\"newTopic\">\r\n      <form @submit.prevent=\"submitNewTopic\" \r\n            class=\"form\">\r\n         <input @blur=\"blur\" tabindex=\"5\" type=\"text\" class=\"createInput\" />\r\n      </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { CSS3DObject } from 'three/examples/jsm/renderers/CSS3DRenderer.js';\r\nimport { mapGetters, mapActions, mapState } from 'vuex';\r\nconst TWEEN = require('@tweenjs/tween.js')\r\n\r\nexport default {\r\n  props:{\r\n    pos: Object\r\n  },\r\n  data(){\r\n    return{\r\n      object: null,\r\n    }\r\n  },\r\n  watch: {\r\n    newTopicPos(){\r\n      this.createNewTopic();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'getScene',\r\n      'getCamera',\r\n      'getGraph'\r\n    ]),\r\n    ...mapState(['newTopicPos']),\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'setCreatingTopic',\r\n      'pushTopic',\r\n    ]),\r\n    init(){\r\n      this.object = new CSS3DObject(this.$el);\r\n      this.getScene.add(this.object);\r\n      this.object.position.z = 0;\r\n      this.object.visible = false;\r\n      this.initIdleAnimation();\r\n    },\r\n    createNewTopic(){\r\n      this.setCreatingTopic(true);\r\n      this.object.position.x = this.newTopicPos.x + this.getCamera.position.x;\r\n      this.object.position.y = this.newTopicPos.y + this.getCamera.position.y;\r\n      this.object.visible = true;\r\n      // ??? element isn't created when called\r\n      setTimeout(() => {\r\n        this.$el.querySelector(\".createInput\").focus();\r\n      }, 50);\r\n    },\r\n    submitNewTopic(e){\r\n      e.preventDefault();\r\n      let value = e.target[0].value;\r\n      let id = value + (this.object.position.x.toFixed(0)) + (this.object.position.y.toFixed(0));\r\n      this.pushTopic({\r\n        title: value,\r\n        floating: false,\r\n        born: true,\r\n        id: id,\r\n        pos: {\r\n          x: this.object.position.x,\r\n          y: this.object.position.y\r\n        },\r\n        connections: []\r\n      });\r\n      console.log(this.getGraph.newNode({id}));\r\n      this.setCreatingTopic(false);\r\n      this.$el.querySelector(\".createInput\").value = \"\";\r\n      this.object.visible = false;\r\n    },\r\n    blur(){\r\n      this.setCreatingTopic(false);\r\n      this.$el.querySelector(\".createInput\").value = \"\";\r\n      this.object.visible = false;\r\n    },\r\n    initIdleAnimation(){\r\n      new TWEEN.Tween({scaleX: 0.95})\r\n        .to({scaleX: 1.055}, 1250)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .repeat(Infinity)\r\n        .yoyo(true)\r\n        .onUpdate((object) => {\r\n          this.object.scale.x = object.scaleX;\r\n        })\r\n        .start();\r\n\r\n      new TWEEN.Tween({scaleY: 0.955})\r\n        .to({scaleY: 1.04}, 1250)\r\n        .easing(TWEEN.Easing.Quadratic.InOut)\r\n        .repeat(Infinity)\r\n        .yoyo(true)\r\n        .delay(150)\r\n        .onUpdate((object) => {\r\n          this.object.scale.y = object.scaleY;\r\n        })\r\n        .start();\r\n\r\n    },\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n.newTopic{\r\n\r\n  .form{\r\n    width: 100px;\r\n    height: 100px;\r\n    padding: 10px;\r\n    border-radius: 100%;\r\n    border: 1px solid rgba(var(--create-color), 0.4);\r\n    box-shadow: 0 0 10px rgba(var(--create-color), 0.2),\r\n                0 0 23px rgba(var(--create-color), 0.1),\r\n                0 0 43px rgba(var(--create-color), 0.09);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n    .createInput{\r\n      border: none;\r\n      width: 90px;\r\n      border-radius: 0;\r\n      font-family: 'Source Sans Pro';\r\n\r\n      &:focus {\r\n        outline: none;\r\n        border: none;\r\n        border-bottom: 1px solid black;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./NewMindmapTopic.vue?vue&type=template&id=2904ae66\"\nimport script from \"./NewMindmapTopic.vue?vue&type=script&lang=js\"\nexport * from \"./NewMindmapTopic.vue?vue&type=script&lang=js\"\n\nimport \"./NewMindmapTopic.vue?vue&type=style&index=0&id=2904ae66&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div id=\"pieMenuRoot\" tabindex=\"-10\" oncontextmenu=\"event.preventDefault();\">\r\n    <div class=\"menu\">\r\n      <div class=\"center\"></div>\r\n      <div class=\"slices\" :class=\"hoverComputed\">\r\n        <div class=\"slice up\">\r\n          <div v-if=\"upOption\" class=\"title\" >\r\n            <span>{{ upOption }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"slice right\">\r\n          <div v-if=\"rightOption\" class=\"title\">\r\n            <span>{{ rightOption }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"slice left\">\r\n          <div v-if=\"leftOption\" class=\"title\">\r\n            <span>{{ leftOption }}</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"slice down\">\r\n          <div v-if=\"downOption\" class=\"title\">\r\n            <span>{{ downOption }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\t\t<!-- <svg :width=\"svgWidth\" :height=\"svgHeight\" id=\"menuSvg\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t<line x1=\"110\" y1=\"110\" id=\"menuLine\" stroke=\"black\" stroke-width=\"2\" />\r\n\t\t</svg> -->\r\n    <div class=\"cover\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { CSS3DObject } from \"three/examples/jsm/renderers/CSS3DRenderer.js\";\r\nimport { mapGetters, mapState, mapActions } from \"vuex\";\r\nconst TWEEN = require('@tweenjs/tween.js')\r\n\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      object: null,\r\n      id: \"pie-menu\",\r\n\t\t\tcancel: false,\r\n      options: null,\r\n\t\t\tsvgLine: null,\r\n\t\t\tsvgWidth: 220,\r\n\t\t\tsvgHeight: 220,\r\n\t\t\tleftElm: null,\r\n\t\t\trightElm: null,\r\n\t\t\tupElm: null,\r\n\t\t\tdownElm: null,\r\n      hover: \"\",\r\n      startPos: null,\r\n      cameraAnimation: null,\r\n    };\r\n  },\r\n  watch: {\r\n    menuOptionsSignal() {\r\n      this.options = {\r\n        layeredMenu: false,\r\n        containsLayeredOptions: false,\r\n        ...this.getMenuOptions\r\n      }\r\n      // dont move if layered menu\r\n      if(!this.options.layeredMenu){\r\n        this.object.position.x = this.getCanvasMouseMove.xThree + this.getCamera.position.x;\r\n        this.object.position.y = this.getCanvasMouseMove.yThree + this.getCamera.position.y;\r\n        this.startPos = {\r\n          x: this.object.position.x,\r\n          y: this.object.position.y,\r\n        }\r\n      }\r\n\t\t\tthis.object.visible = true;\r\n      this.setMenuActive(true);\r\n      // \r\n      if(!this.options.layeredMenu) //eslint-disable-line\r\n        this.startCameraAnimation();\r\n\t\t\t//this.updateLine();\r\n    },\r\n\t\tcanvasMouseMovement(){\r\n\t\t\tif(this.object.visible){\r\n\t\t\t\t//this.updateLine();\r\n        this.setHover();\r\n\t\t\t}\r\n\t\t},\r\n    menuKeyUpSignal(){\r\n      this.onKeyUp();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.object = new CSS3DObject(this.$el);\r\n    this.object.position.z = 1;\r\n\t\tthis.object.visible = false;\r\n\r\n\t\tthis.svgLine = this.$el.querySelector(\"#menuLine\");\r\n\r\n\t\tthis.leftElm = this.$el.querySelector(\".left\");\r\n\t\tthis.rightElm = this.$el.querySelector(\".right\");\r\n\t\tthis.upElm = this.$el.querySelector(\".up\");\r\n\t\tthis.downElm = this.$el.querySelector(\".down\");\r\n\r\n\t\tthis.$el.addEventListener('mouseup', this.handleMouseUp);\r\n\t\tthis.$el.addEventListener('mousedown', this.handleMouseDown);\r\n\r\n    window.setTimeout(() => {\r\n      this.getScene.add(this.object);\r\n    }, 200);\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      \"getScene\",\r\n      \"getCamera\",\r\n      \"getGraph\",\r\n      \"getMenuOptions\",\r\n      \"getCanvasMouseMove\",\r\n      \"getMenuBtn\"\r\n    ]),\r\n    ...mapState([\r\n\t\t\t\"menuOptionsSignal\",\r\n\t\t\t\"canvasMouseMovement\",\r\n      \"menuKeyUpSignal\"\r\n\t\t]),\r\n    upOption() {\r\n      if (this.options && this.options.up) return this.options.up.title;\r\n      return \"\";\r\n    },\r\n    rightOption() {\r\n      if (this.options && this.options.right) return this.options.right.title;\r\n      return \"\";\r\n    },\r\n    leftOption() {\r\n      if (this.options && this.options.left) return this.options.left.title;\r\n      return \"\";\r\n    },\r\n    downOption() {\r\n      if (this.options && this.options.down) return this.options.down.title;\r\n      return \"\";\r\n    },\r\n    hoverComputed(){\r\n      return this.hover;\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      \"createNewNode\",\r\n      \"removeNode\",\r\n      \"setMenuOption\",\r\n      \"setMenuActive\"\r\n    ]),\r\n    upAction() {\r\n      this[this.options.up.id](this.options.up.payload);\r\n\t\t\tthis.object.visible = false;\r\n    },\r\n    rightAction() {\r\n      this[this.options.right.id](this.options.right.payload);\r\n\t\t\tthis.object.visible = false;\r\n    },\r\n    leftAction() {\r\n      this[this.options.left.id](this.options.left.payload);\r\n\t\t\tthis.object.visible = false;\r\n    },\r\n    downAction() {\r\n      this[this.options.down.id](this.options.down.payload);\r\n\t\t\tthis.object.visible = false;\r\n    },\r\n\t\tupdateLine(){\r\n\t\t\tlet pos = {\r\n\t\t\t\tx: this.getCanvasMouseMove.xThree + this.svgWidth/2 - this.object.position.x - 10,\r\n\t\t\t\ty: -this.getCanvasMouseMove.yThree + this.svgHeight/2 + this.object.position.y - 10\r\n\t\t\t}\r\n\r\n\t\t\tthis.svgLine.setAttribute('x2',`${pos.x}`);\r\n\t\t\tthis.svgLine.setAttribute('y2',`${pos.y}`);\r\n\t\t},\r\n    handleMouseDown(e){\r\n      if(e.button === 1 || e.button === 0){\r\n        if(this.options.left && this.determineDirection() == \"left\") this.leftAction();\r\n\t\t\t\telse if(this.options.right && this.determineDirection() == \"right\") this.rightAction();\r\n\t\t\t\telse if(this.options.up && this.determineDirection() == \"up\") this.upAction();\r\n\t\t\t\telse if(this.options.down && this.determineDirection() == \"down\") this.downAction();\r\n\t\t\t\t\r\n\t\t\t\tthis.object.visible = false;\r\n        this.setMenuActive(false);\r\n        this.reverseCameraAnimation();\r\n      }\r\n    },\r\n\t\thandleMouseUp(e){\r\n      this.cancel = false;\r\n\t\t\tif(e.button === 2){\r\n\t\t\t\t// right button cancel\r\n\t\t\t\tthis.object.visible = false;\r\n\t\t\t\tthis.cancel = true;\r\n        this.setMenuActive(false);\r\n        this.reverseCameraAnimation();\r\n\t\t\t}\r\n\r\n      let btn;\r\n      if(this.getMenuBtn == \"mouse\") btn = 1;\r\n\r\n\t\t\tif(e.button === btn && !this.cancel){\r\n\t\t\t\tif(this.options.left && this.determineDirection() == \"left\") this.leftAction();\r\n\t\t\t\telse if(this.options.right && this.determineDirection() == \"right\") this.rightAction();\r\n\t\t\t\telse if(this.options.up && this.determineDirection() == \"up\") this.upAction();\r\n\t\t\t\telse if(this.options.down && this.determineDirection() == \"down\") this.downAction();\r\n\t\t\t\t\r\n\t\t\t\tthis.object.visible = false;\r\n\r\n        this.setMenuActive(false);\r\n        this.reverseCameraAnimation();\r\n\t\t\t}\r\n\t\t},\r\n    onKeyUp(){\r\n      if(this.getMenuBtn == \"g\" && !this.cancel){\r\n        if(this.options.left && this.determineDirection() == \"left\") this.leftAction();\r\n\t\t\t\telse if(this.options.right && this.determineDirection() == \"right\") this.rightAction();\r\n\t\t\t\telse if(this.options.up && this.determineDirection() == \"up\") this.upAction();\r\n\t\t\t\telse if(this.options.down && this.determineDirection() == \"down\") this.downAction();\r\n\t\t\t\t\r\n\t\t\t\tthis.object.visible = false;\r\n        this.setMenuActive(false);\r\n        this.reverseCameraAnimation();\r\n      }\r\n    },\r\n    startCameraAnimation(){\r\n      this.initalCameraZ = this.getCamera.position.z;\r\n\r\n      this.cameraAnimation = new TWEEN\r\n\t\t\t\t.Tween({z: this.initalCameraZ})\r\n\t\t\t\t.to({z: this.initalCameraZ + 20}, 2200)\r\n\t\t\t\t.easing(TWEEN.Easing.Elastic.Out)\r\n\t\t\t\t.onUpdate(object => {\r\n\t\t\t\t\tthis.getCamera.position.z = object.z;\r\n\t\t\t\t}).start();\r\n    },\r\n    reverseCameraAnimation(){\r\n      if(this.cameraAnimation)\r\n        this.cameraAnimation.stop();\r\n      \r\n      if(!this.options.containsLayeredOptions) {\r\n        new TWEEN\r\n          .Tween({z: this.getCamera.position.z})\r\n          .to({z: this.initalCameraZ}, 2200)\r\n          .easing(TWEEN.Easing.Elastic.Out)\r\n          .onUpdate(object => {\r\n            this.getCamera.position.z = object.z;\r\n        }).start();\r\n      }\r\n    },\r\n    setHover(){\r\n      if( this.determineDirection() == \"left\") {\r\n        this.hover = \"left\";\r\n      }\r\n      else if( this.determineDirection() == \"right\") {\r\n        this.hover = \"right\";\r\n      }\r\n      else if( this.determineDirection() == \"up\") {\r\n        this.hover = \"up\";\r\n      }\r\n      else if( this.determineDirection() == \"down\") {\r\n        this.hover = \"down\";\r\n      }\r\n    },\r\n    determineDirection(){\r\n      let org = this.startPos;\r\n      let point = {\r\n        x: this.getCanvasMouseMove.xThree + this.getCamera.position.x,\r\n        y: this.getCanvasMouseMove.yThree + this.getCamera.position.y,\r\n      };\r\n\r\n      let hyp = Math.sqrt(Math.pow(point.x - org.x, 2) + Math.pow(point.y - org.y, 2));\r\n      let adj = point.x - org.x;\r\n      let deltaY = point.y - org.y;\r\n\r\n      let angle = Math.acos(adj/hyp) * (180/Math.PI);\r\n      if(deltaY < 0 ){\r\n        angle = 180 + (180 - angle);\r\n      }\r\n      //console.log(angle);\r\n      if(angle > 315 || angle < 45) return \"right\";\r\n      else if(angle > 45 && angle < 135) return \"up\";\r\n      else if(angle > 135 && angle < 225) return \"left\";\r\n      else if(angle > 225 && angle < 315) return \"down\";\r\n    },\r\n    createTopic() {\r\n      this.createNewNode({\r\n        x: this.getCanvasMouseMove.xThree,\r\n        y: this.getCanvasMouseMove.yThree,\r\n      });\r\n    },\r\n    removeTopic({localRemoveFn, id}){\r\n      // need to cancel mousemove event on topic or something weird about it\r\n      localRemoveFn();\r\n      this.removeNode(id);\r\n    },\r\n    toggleFloating(payload){\r\n      payload.toggleFloating();\r\n    },\r\n    newConnection({localConnectionFn}){\r\n      this.setMenuOption({\r\n        layeredMenu: true,\r\n        right: {title: \"regular connection\", id: \"regularConnection\", payload: {localConnectionFn}},\r\n        left: {title: \"weak connection\", id: \"weakConnection\", payload: {localConnectionFn}},\r\n      })\r\n    },\r\n    regularConnection({localConnectionFn}){\r\n      localConnectionFn(\"normal\")\r\n    },\r\n    weakConnection({localConnectionFn}){\r\n      localConnectionFn(\"weak\")\r\n    },\r\n    removeConnection({localRemoveConnectionFn}){\r\n      localRemoveConnectionFn()\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  #pieMenuRoot {\r\n  --height: 220;\r\n  $width: 220px;\r\n  $height: $width;\r\n  $padding: 10px;\r\n  $border-width: 1px;\r\n\r\n  width: $width;\r\n  height: $height;\r\n\tborder-radius: 100%;\r\n\r\n  &:focus{\r\n\t\toutline: 0;\r\n\t}\r\n  \r\n\t#menuSvg{\r\n\t\tposition: absolute;\r\n\t\ttop: 10px;\r\n\t\tleft: 10px;\r\n\t\tz-index: -1;\r\n\t\tborder-radius: 100%;\r\n\t}\r\n  .menu {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tpadding: $padding;\r\n\t\t//border: $border-width solid rgb(235, 235, 235);\r\n\r\n    .center {\r\n      position: absolute;\r\n      background-color: #1d1d1d;\r\n      box-shadow: 0 0 3px rgba(#1d1d1d, 0.6),\r\n                  0 0 10px rgba(#1d1d1d, 0.8);\r\n      width: 12px;\r\n      height: 12px;\r\n      transform: rotate(45deg);\r\n      left: ($width + $padding)/2;\r\n      top: ($width + $padding)/2;\r\n    }\r\n\r\n    .slices {\r\n      display: flex;\r\n      flex-flow: row wrap;\r\n      transform: rotate(45deg);\r\n      z-index: 5;\r\n\r\n      .slice {\r\n        flex: 0 0 (220px - 2px)/2;\r\n        height: ($height - 2)/2;\r\n        position: relative;\r\n        display: block;\r\n\r\n        .title {\r\n          display: inline-block;\r\n          position: absolute;\r\n          width: 190px;\r\n          cursor: pointer;\r\n\r\n          span {\r\n            display: inline-block;\r\n            padding: 5px;\r\n            background-color: white;\r\n            border: 1px solid rgb(235, 235, 235);\r\n            border-radius: 5px;\r\n            font-family: \"Source Sans Pro\";\r\n            transition: transform cubic-bezier(0.18, 0.89, 0, 2.3) 0.2s;\r\n          }\r\n        }\r\n      }\r\n      .up {\r\n        border-right: 1px solid transparent;\r\n        border-bottom: 1px solid transparent;\r\n\r\n        .title {\r\n          transform: rotate(-45deg) translateX(-10px);\r\n        }\r\n      }\r\n      .right {\r\n        border-bottom: 1px solid transparent;\r\n\r\n        .title {\r\n          transform: rotate(-45deg) translateX(-10px);\r\n        }\r\n      }\r\n      .down {\r\n\r\n        .title {\r\n          transform: rotate(-45deg) translateX(-10px);\r\n        }\r\n      }\r\n      .left {\r\n        border-right: 1px solid transparent;\r\n\r\n        .title {\r\n          transform: rotate(-45deg) translateX(-110px);\r\n          text-align: right;\r\n        }\r\n      }\r\n\r\n      &.up{\r\n        .slice.up{ \r\n            background: radial-gradient(ellipse at right bottom, rgba(var(--create-color), 0.4), transparent 70%);\r\n\r\n          .title > span{\r\n            transform: scale(1.1);\r\n          }\r\n        }\r\n      }\r\n      &.down{\r\n        .slice.down{ \r\n            background: radial-gradient(ellipse at left top, rgba(var(--create-color), 0.4), transparent 70%);\r\n\r\n          .title > span{\r\n            transform: scale(1.1);\r\n          }\r\n        }\r\n      }\r\n      &.left{\r\n        .slice.left{ \r\n            background: radial-gradient(ellipse at right top, rgba(var(--create-color), 0.4), transparent 70%);\r\n\r\n          .title > span{\r\n            transform: scale(1.1);\r\n          }\r\n        }\r\n      }\r\n      &.right{\r\n        .slice.right{ \r\n          background: radial-gradient(ellipse at left bottom, rgba(var(--create-color), 0.4), transparent 70%);\r\n\r\n          .title > span{\r\n            transform: scale(1.1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .cover {\r\n    position: absolute;\r\n    z-index: -50;\r\n    margin-top: -5000vh;\r\n    margin-left: -5000vw;\r\n    width: 10000vw;\r\n    height: 10000vh;\r\n    background-color: rgba(black, 0.1);\r\n  }\r\n}\r\n</style>","import { render } from \"./PieMenu.vue?vue&type=template&id=1d75efb7\"\nimport script from \"./PieMenu.vue?vue&type=script&lang=js\"\nexport * from \"./PieMenu.vue?vue&type=script&lang=js\"\n\nimport \"./PieMenu.vue?vue&type=style&index=0&id=1d75efb7&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./MindmapTopics.vue?vue&type=template&id=cb2e6c90\"\nimport script from \"./MindmapTopics.vue?vue&type=script&lang=js\"\nexport * from \"./MindmapTopics.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n    <div class=\"resetBtnRoot\">\r\n        <button class=\"resetBtn\" @click=\"togglePrompt\">\r\n            reset data\r\n        </button>\r\n        <!-- <br />\r\n        <span class=\"menuBtnTitle\">Button to activate menu:</span>\r\n        <br />\r\n        <button class=\"menuBtn\" :class=\"midClass\" @click=\"setMid\">\r\n            mid mouse btn\r\n        </button>\r\n        <button class=\"menuBtn\" :class=\"gClass\" @click=\"setG\">\r\n            'G' btn\r\n        </button> -->\r\n        <div v-if=\"promptComputed\" id=\"prompt\">\r\n            <p>Are you sure you want to reset your mindmap?</p>\r\n            <button @click=\"resetLocalStorage\">Yes, clear data</button>\r\n            <button @click=\"togglePrompt\">No</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from 'vuex'\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            prompt: false,\r\n            midBtn: true,\r\n            gBtn: false\r\n        }\r\n    },\r\n    mounted(){\r\n        if(this.getMenuBtn == \"mouse\") this.setMid();\r\n        if(this.getMenuBtn == \"g\") this.setG();\r\n    },\r\n    computed: {\r\n        ...mapGetters(['getMenuBtn']),\r\n        promptComputed(){\r\n            return this.prompt;\r\n        },\r\n        midClass(){\r\n            if(this.midBtn) return \"active\"\r\n            return \"\";\r\n        },\r\n        gClass(){\r\n            if(this.gBtn) return \"active\"\r\n            return \"\";\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapActions(['setMenuBtn']),\r\n        resetLocalStorage(){\r\n            window.localStorage.clear();\r\n            this.prompt = false;\r\n        },\r\n        togglePrompt(){\r\n            this.prompt = !this.prompt;\r\n            console.log(\"prompt\", this.prompt)\r\n        },\r\n        setMid(){\r\n            this.setMenuBtn('mouse');\r\n            this.midBtn = true;\r\n            this.gBtn = false;\r\n\r\n        },\r\n        setG(){\r\n            this.setMenuBtn('g');\r\n            this.midBtn = false;\r\n            this.gBtn = true;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.resetBtnRoot{\r\n    position: absolute;\r\n    bottom: 0;\r\n    right: 0;\r\n    opacity: 0.2;\r\n    transition: opacity 0.15s ease-out;\r\n\r\n    &:hover{\r\n        opacity: 1;\r\n    }\r\n\r\n\r\n    .resetBtn, .menuBtn, .menuBtnTitle{\r\n        margin: 10px;\r\n    }\r\n    .menuBtn{\r\n        color: gray;\r\n    }\r\n    .menuBtn:hover{\r\n        color: black;\r\n        cursor: pointer;\r\n    }\r\n    .active{\r\n        background-color: #75e06b;\r\n        border: 2px solid #539e4d;\r\n        color: black;\r\n    }\r\n\r\n    #prompt{\r\n        width: 200px;\r\n        padding: 20px;\r\n        border-radius: 5px;\r\n        background-color: white;\r\n        border: 1px solid #eaeaea;\r\n        position: absolute;\r\n        top: -55vh;\r\n        left: -50vw;\r\n    }\r\n}\r\n</style>","import { render } from \"./ResetBtn.vue?vue&type=template&id=7ab3847e\"\nimport script from \"./ResetBtn.vue?vue&type=script&lang=js\"\nexport * from \"./ResetBtn.vue?vue&type=script&lang=js\"\n\nimport \"./ResetBtn.vue?vue&type=style&index=0&id=7ab3847e&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=02a38867\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=02a38867&lang=css\"\nscript.render = render\n\nexport default script","import { createStore } from 'vuex'\r\n\r\nconst store = createStore({\r\n  state: {\r\n    canvasMousePressed: false,\r\n    canvasMouseMove: {},\r\n\tcanvasMouseMovement: null,\r\n\tscene: null,\r\n\tcamera: null,\r\n\r\n\tpressedTopicId: null,\r\n\tcreatingTopic: false,\r\n\ttopicsMounted: 0,\r\n\tshiftKey: false,\r\n\tdeselectAllTopicsSignal: 0,\r\n\ttopicUpdatedSignal: 0,\r\n\tgraph: null,\r\n\tgraphlayout: null,\r\n\r\n\tnewConnection: null,\r\n\tcreatingNewConnection: false,\r\n\r\n\tconnectionRemovedSignal: 0,\r\n\tconnectionsToRemove: [],\r\n\tglowingConnection: null,\r\n\t\r\n\tmenuActive: false,\r\n\tmenuBtn: \"mouse\",\r\n\r\n\tselectedTopics: [],\r\n\tfloatingTopics: [],\r\n\tfloatingTopicsSignal: 0,\r\n\ttopics: [\r\n\t\t{\r\n\t\t\ttitle: \"Smart Home\",\r\n\t\t\troot: true,\r\n\t\t\tid: \"root\",\r\n\t\t\tpos: {\r\n\t\t\t\tx: -100,\r\n\t\t\t\ty: 0,\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Appliances\",\r\n\t\t\tid: 1,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 50,\r\n\t\t\t\ty: 80\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: \"root\", k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"lights\",\r\n\t\t\tid: 11,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 250,\r\n\t\t\t\ty: 80\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: 1, k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"speakers\",\r\n\t\t\tid: 12,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 250,\r\n\t\t\t\ty: 140\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: 1, k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"door\",\r\n\t\t\tid: 13,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 250,\r\n\t\t\t\ty: 200\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: 1, k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Control Mediums\",\r\n\t\t\tid: 2,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 50,\r\n\t\t\t\ty: -80\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: \"root\", k: 10},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Voice\",\r\n\t\t\tid: 21,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 250,\r\n\t\t\t\ty: -80\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: 2, k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Smartphone\",\r\n\t\t\tid: 22,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 250,\r\n\t\t\t\ty: -160\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: 2, k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Dedicated screen touch interface\",\r\n\t\t\tid: 23,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 250,\r\n\t\t\t\ty: -220\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: 2, k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Screen built into wall\",\r\n\t\t\tid: 231,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 350,\r\n\t\t\t\ty: -220\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: 23, k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: \"Mobile device\",\r\n\t\t\tid: 232,\r\n\t\t\tpos: {\r\n\t\t\t\tx: 350,\r\n\t\t\t\ty: -300\r\n\t\t\t},\r\n\t\t\tconnections: [\r\n\t\t\t\t{id: 23, k: 100},\r\n\t\t\t]\r\n\t\t},\r\n\t]\r\n  },\r\n  mutations: {\r\n\tINIT_TOPICS(state){\r\n\t\t//window.localStorage.clear();\r\n\t\tconst savedTopics = window.localStorage.getItem(\"topics\");\r\n\t\t//console.log(\"saved topics in init\", savedTopics);\r\n\t\tif(savedTopics != undefined){\r\n\t\t\tstate.topics = JSON.parse(savedTopics)\r\n\t\t}\r\n\t\tconst savedMenuBtn = window.localStorage.getItem(\"menuBtn\");\r\n\t\tif(savedMenuBtn != undefined){\r\n\t\t\tstate.menuBtn = savedMenuBtn;\r\n\t\t}\r\n\t},\r\n\tSAVE_TOPICS_TO_LOCAL_STORAGE(state){\r\n\t\tconst topicsJson = JSON.stringify(state.topics);\r\n\t\twindow.localStorage.setItem(\"topics\", topicsJson);\r\n\t},\r\n    SET_CANVAS_MOUSE_MOVE(state, payload) {\r\n\t\tstate.canvasMouseMove = {\r\n\t\t\t...state.canvasMouseMove,\r\n\t\t\t...payload\r\n\t\t};\r\n\t\t// hack to ease object change detection\r\n\t\tstate.canvasMouseMovement = Math.random();\r\n    },\r\n\tSET_CANVAS_MOUSE_PRESSED(state, pressed) {\r\n\t\tstate.canvasMousePressed = pressed;\r\n\t},\r\n\tSET_SCENE(state, scene){\r\n\t\tstate.scene = scene;\r\n\t},\r\n\tSET_NODES_PARENT(state, nodesParent){\r\n\t\tstate.nodesParent = nodesParent;\r\n\t},\r\n\tSET_CAMERA(state, camera){\r\n\t\tstate.camera = camera;\r\n\t},\r\n\tCREATE_NEW_NODE(state, pos){\r\n\t\tstate.newTopicPos = pos;\r\n\t},\r\n\tSET_CREATING_TOPIC(state, creating){\r\n\t\tstate.creatingTopic = creating;\r\n\t},\r\n\tPUSH_TOPIC(state, topic){\r\n\t\tstate.topics.push(topic);\r\n\t},\r\n\tUPDATE_TOPIC_BY_ID( state, {topicToUpdate, updateData}){\r\n\t\tlet index = state.topics.findIndex(topic => topic.id === topicToUpdate.id);\r\n\t\t//console.log(\"topic update:\", updateData);\r\n\t\t//console.log(\"topic updated\");\r\n\t\tstate.topics[index] = {\r\n\t\t\t...topicToUpdate,\r\n\t\t\t...updateData\r\n\t\t};\r\n\t\tif(updateData.pos != undefined && state.pressedTopicId !== topicToUpdate.id) {\r\n\t\t\tstate.topics[index].object.position.x = updateData.pos.x;\r\n\t\t\tstate.topics[index].object.position.y = updateData.pos.y;\r\n\t\t}\r\n\t\tstate.topicUpdatedSignal = Math.random();\r\n\r\n\t\t// save to local storage\r\n\t\t\r\n\t\t//console.log(\"topics in localstorage\", window.localStorage.getItem(\"topics\"))\r\n\t},\r\n\tSET_PRESSED_TOPIC_ID(state, topicId){\r\n\t\tstate.pressedTopicId = topicId;\r\n\t},\r\n\tSET_TOPICS_MOUNTED(state, mounted){\r\n\t\tif(mounted) state.topicsMounted = Math.random();\r\n\t},\r\n\tTOGGLE_SELECTED_TOPIC(state, topicId){\r\n\t\tlet topicIndex = state.selectedTopics.findIndex(id => id === topicId);\r\n\t\tif(topicIndex === -1) state.selectedTopics.push(topicId);\r\n\t\telse state.selectedTopics.splice(topicIndex, 1);\r\n\t\t//console.log(state.selectedTopics);\r\n\t},\r\n\tSET_SHIFT_KEY(state, pressed){\r\n\t\tstate.shiftKey = pressed;\r\n\t},\r\n\tDESELECT_ALL_TOPICS_BUT(state, id){\r\n\t\tif(id === \"all\") state.selectedTopics = [];\r\n\t\telse state.selectedTopics = [id];\r\n\t\tstate.deselectAllTopicsSignal = Math.random();\r\n\t},\r\n\tTOGGLE_FLOATING_TOPIC_BY_ID(state, topicId){\r\n\t\tlet topicIndex = state.floatingTopics.findIndex(id => id === topicId);\r\n\t\tif(topicIndex === -1) state.floatingTopics.push(topicId);\r\n\t\telse state.floatingTopics.splice(topicIndex, 1);\r\n\t\tstate.floatingTopicsSignal = Math.random();\r\n\t},\r\n\tTRIGGER_FLOATING_TOPICS_SIGNAL(state){\r\n\t\tstate.floatingTopicsSignal = Math.random();\r\n\t},\r\n\tSET_GRAPH_LAYOUT(state, graphLayout){\r\n\t\tstate.graphLayout = graphLayout;\r\n\t},\r\n\tSET_GRAPH(state, graph){\r\n\t\tstate.graph = graph;\r\n\t},\r\n\tSET_NEW_CONNECTION(state, connection){\r\n\t\tstate.creatingNewConnection = true;\r\n\t\tstate.newConnection = {\r\n\t\t\t...state.newConnection,\r\n\t\t\t...connection\r\n\t\t}\r\n\t},\r\n\tPUSH_TOPIC_CONNECTION(state, {topicToUpdate, toNode, connection}){\r\n\t\tlet force;\r\n\t\tif(connection.type == undefined || connection.type == \"normal\")\r\n\t\t\tforce = 40;\r\n\t\telse if(connection.type == \"weak\")\r\n\t\t\tforce = 5;\r\n\t\t\r\n\t\ttopicToUpdate.connections.push({\r\n\t\t\tid: connection.to,\r\n\t\t\tk: force,\r\n\t\t\ttype: connection.type\r\n\t\t});\r\n\t\tlet node1 = topicToUpdate.graphNode.node;\r\n\t\tlet node2 = toNode.graphNode.node;\r\n\t\tstate.graph.newEdge(node1, node2, force);\r\n\t\tstate.creatingNewConnection = false;\r\n\t},\r\n\tSET_REMOVE_CONNECTION_ID(state, id){\r\n\t\tstate.removeConnectionId = id;\r\n\t},\r\n\tREMOVE_CONNECTION(state, topics){\r\n\t\tlet connected = false;\r\n\t\tlet id1 = topics.from.id;\r\n\t\tlet id2 = topics.to.id;\r\n\r\n\t\tlet indexToDelete = null;\r\n\t\t//reset the array\r\n\t\tstate.connectionsToRemove = [];\r\n\r\n\t\tlet from,to,node;\r\n\t\tfor (let j = 0; j < 2; j++) {\r\n\t\t\tif(j === 0) {\r\n\t\t\t\tnode = \"from\";\r\n\t\t\t\tfrom = id1;\r\n\t\t\t\tto = id2;\r\n\t\t\t}\r\n\t\t\tif(j === 1) {\r\n\t\t\t\tnode = \"to\";\r\n\t\t\t\tfrom = id2;\r\n\t\t\t\tto = id1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttopics[node].connections.forEach((connection, i) => {\r\n\t\t\t\tif(connection.id == to){\r\n\t\t\t\t\tindexToDelete = i;\r\n\t\t\t\t\tconnected = true;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// remove adjacent connections in store data\r\n\t\t\tif(connected && topics.removeAdjacent){\r\n\t\t\t\tconsole.log(\"adjacent nodes in graph: \", state.graph);\r\n\t\t\t\tlet connectedNode, connRemoveId;\r\n\t\t\t\tstate.graph.edges.forEach(edge => {\r\n\t\t\t\t\tif(edge.target.id == from){\r\n\t\t\t\t\t\tconnectedNode = state.topics.find(topic => topic.id == edge.source.id);\r\n\t\t\t\t\t\tconnRemoveId = connectedNode.connections.findIndex(connection => connection.id == from);\r\n\t\t\t\t\t\tstate.connectionsToRemove.push({from: from, to: connectedNode.id});\r\n\t\t\t\t\t\tconnectedNode.connections.splice(connRemoveId, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tif(connected){\r\n\t\t\t\ttopics[node].connections.splice(indexToDelete, 1);\r\n\t\t\t\tstate.connectionsToRemove.push({from: from, to: to});\r\n\t\t\t\tstate.graph.removeEdge(state.graph.adjacency[from][to][0])\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\tconnected = false;\r\n\t\t}\r\n\r\n\t\tstate.connectionRemovedSignal = Math.random();\r\n\t\tstate.removeConnectionId = null;\r\n\t},\r\n\tREMOVE_NODE(state, topicIndex){\r\n\t\tlet node = state.topics[topicIndex].graphNode.node;\r\n\t\t\r\n\t\tstate.graph.removeNode(node);\r\n\t\tstate.topics.splice(topicIndex, 1);\r\n\t},\r\n\tSET_MENU_OPTION(state, options){\r\n\t\tstate.menuOptions = options;\r\n\t\tstate.menuOptionsSignal = Math.random();\r\n\t},\r\n\tSET_MENU_ACTIVE(state, active){\r\n\t\tstate.menuActive = active;\r\n\t},\r\n\tSET_CONNECTION_GLOW(state, connection){\r\n\t\tstate.glowingConnection = connection;\r\n\t},\r\n\tREMOVE_CONNECTION_GLOW(state, connection){\r\n\t\tstate.removeGlowingConnection = connection;\r\n\t},\r\n\tSET_MENU_BTN(state, btn){\r\n\t\tstate.menuBtn = btn;\r\n\t\twindow.localStorage.setItem(\"menuBtn\", btn);\r\n\t},\r\n\tMENU_KEY_EVENT(state, e){\r\n\t\tif(e == \"up\") state.menuKeyUpSignal = Math.random();\r\n\t\tif(e == \"down\") state.menuKeyDownSignal = Math.random();\r\n\t},\r\n  },\r\n  actions: {\r\n\t\tinitTopics({ commit }){\r\n\t\t\tcommit('INIT_TOPICS');\r\n\t\t},\r\n\t\tsaveTopicsToLocalStorage({ commit }){\r\n\t\t\tcommit('SAVE_TOPICS_TO_LOCAL_STORAGE');\r\n\t\t},\r\n\t\tupdateCanvasMouseMove({ commit }, mouseMoveData) {\r\n\t\t\tcommit('SET_CANVAS_MOUSE_MOVE', mouseMoveData);\r\n\t\t},\r\n\t\tupdateCanvasMousePressed({ commit }, pressedData) {\r\n\t\t\tcommit('SET_CANVAS_MOUSE_PRESSED', pressedData);\r\n\t\t},\r\n\t\tsetScene({ commit }, sceneData) {\r\n\t\t\tcommit('SET_SCENE', sceneData);\r\n\t\t},\r\n\t\tsetNodesParent({ commit }, nodesParent) {\r\n\t\t\tcommit('SET_NODES_PARENT', nodesParent);\r\n\t\t},\r\n\t\tsetCamera({ commit }, cameraData) {\r\n\t\t\tcommit('SET_CAMERA', cameraData);\r\n\t\t},\r\n\t\tsetCreatingTopic({ commit }, creatingData) {\r\n\t\t\tcommit('SET_CREATING_TOPIC', creatingData);\r\n\t\t},\r\n\t\tcreateNewNode({ commit }, pos){\r\n\t\t\tcommit('CREATE_NEW_NODE', pos);\r\n\t\t},\r\n\t\tpushTopic({ commit }, topicData) {\r\n\t\t\tcommit('PUSH_TOPIC', topicData);\r\n\t\t},\r\n\t\tpushTopicObject({ commit }, topicObjectData) {\r\n\t\t\tcommit('PUSH_TOPIC_OBJECT', topicObjectData);\r\n\t\t},\r\n\t\tsetTopicObjects({ commit }, topicObjectsData) {\r\n\t\t\tcommit('SET_TOPIC_OBJECTS', topicObjectsData);\r\n\t\t},\r\n\t\tupdateTopicById({ commit, getters }, {id, updateData}){\r\n\t\t\tlet topicToUpdate = getters.getTopicById(id);\r\n\t\t\tif(topicToUpdate)\r\n\t\t\t\tcommit('UPDATE_TOPIC_BY_ID', {topicToUpdate, updateData})\r\n\t\t},\r\n\t\tsetPressedTopic({commit}, topicIdData) {\r\n\t\t\tcommit('SET_PRESSED_TOPIC_ID', topicIdData);\r\n\t\t},\r\n\t\tsetTopicsMounted({ commit }, mounted){\r\n\t\t\tcommit('SET_TOPICS_MOUNTED', mounted)\r\n\t\t},\r\n\t\ttoggleSelectedTopic({ commit }, topicId){\r\n\t\t\tcommit('TOGGLE_SELECTED_TOPIC', topicId);\r\n\t\t},\r\n\t\tsetShiftKey({ commit }, pressed){\r\n\t\t\tcommit('SET_SHIFT_KEY', pressed);\r\n\t\t},\r\n\t\tdeselectAllTopicsBut({ commit }, id){\r\n\t\t\tcommit('DESELECT_ALL_TOPICS_BUT', id);\r\n\t\t},\r\n\t\ttoggleFloatingTopic({ commit }, topicId){\r\n\t\t\tcommit('TOGGLE_FLOATING_TOPIC_BY_ID', topicId);\r\n\t\t},\r\n\t\ttriggerFloatingTopicsSignal({ commit }){\r\n\t\t\tcommit('TRIGGER_FLOATING_TOPICS_SIGNAL');\r\n\t\t},\r\n\t\tsetGraphLayout({ commit }, graphLayout){\r\n\t\t\tcommit('SET_GRAPH_LAYOUT', graphLayout);\r\n\t\t},\r\n\t\tsetGraph({ commit }, graph){\r\n\t\t\tcommit('SET_GRAPH', graph);\r\n\t\t},\r\n\t\tsetNewConnection({ commit }, {from, to, type}){\r\n\r\n\t\t\tcommit('SET_NEW_CONNECTION', {from, to, type});\r\n\t\t},\r\n\t\tpushTopicConnection({ commit, getters }, connection){\r\n\t\t\tlet topicToUpdate = getters.getTopicById(connection.from);\r\n\t\t\tlet toNode = getters.getTopicById(connection.to);\r\n\t\t\tcommit('PUSH_TOPIC_CONNECTION', {topicToUpdate, toNode, connection});\r\n\t\t},\r\n\t\tsetRemoveConnectionId({ commit }, id){\r\n\t\t\tcommit('SET_REMOVE_CONNECTION_ID', id);\r\n\t\t},\r\n\t\tremoveConnection({commit, getters }, {from, to, removeAdjacent = false}){\r\n\t\t\tconst topics = {};\r\n\t\t\ttopics.from = getters.getTopicById(from);\r\n\t\t\ttopics.to = getters.getTopicById(to);\r\n\t\t\ttopics.removeAdjacent = removeAdjacent;\r\n\r\n\t\t\tconsole.log(\"topics in remove connectiopn\", topics);\r\n\t\t\tcommit('REMOVE_CONNECTION', topics);\r\n\t\t},\r\n\t\tremoveNode({ commit, getters }, id){\r\n\t\t\tlet topicIndex = getters.getTopicIndexById(id)\r\n\t\t\tcommit('REMOVE_NODE', topicIndex);\r\n\t\t},\r\n\t\tsetMenuOption({ commit }, options){\r\n\t\t\tcommit('SET_MENU_OPTION', options);\r\n\t\t},\r\n\t\tsetMenuActive({ commit }, active){\r\n\t\t\tcommit('SET_MENU_ACTIVE', active);\r\n\t\t},\r\n\t\tsetConnectionGlow({ commit }, connection){\r\n\t\t\tcommit('SET_CONNECTION_GLOW', connection);\r\n\t\t},\r\n\t\tremoveConnectionGlow({ commit }, connection){\r\n\t\t\tcommit('REMOVE_CONNECTION_GLOW', connection);\r\n\t\t},\r\n\t\tsetMenuBtn({ commit }, btn){\r\n\t\t\tcommit('SET_MENU_BTN', btn);\r\n\t\t},\r\n\t\tmenuKeyEvent({ commit }, e){\r\n\t\t\tcommit('MENU_KEY_EVENT', e);\r\n\t\t},\r\n  },\r\n\tgetters: {\r\n\t\tgetCanvasMouseMove(state){\r\n\t\t\treturn state.canvasMouseMove;\r\n\t\t},\r\n\t\tgetCanvasMousePressed(state){\r\n\t\t\treturn state.canvasMousePressed;\r\n\t\t},\r\n\t\tgetScene(state){\r\n\t\t\treturn state.scene;\r\n\t\t},\r\n\t\tgetNodesParent(state){\r\n\t\t\treturn state.nodesParent;\r\n\t\t},\r\n\t\tgetCamera(state){\r\n\t\t\treturn state.camera;\r\n\t\t},\r\n\t\tgetCreatingTopic(state){\r\n\t\t\treturn state.creatingTopic;\r\n\t\t},\r\n\t\tgetAllTopics(state) {\r\n\t\t\treturn state.topics;\r\n\t\t},\r\n\t\tgetTopicById: (state) => (id) => {\r\n\t\t\treturn state.topics.find(topic => topic.id == id);\r\n\t\t},\r\n\t\tgetTopicIndexById: (state) => (id) => {\r\n\t\t\treturn state.topics.findIndex(topic => topic.id == id);\r\n\t\t},\r\n\t\tgetPressedTopicId(state){\r\n\t\t\treturn state.pressedTopicId;\r\n\t\t},\r\n\t\tgetShiftKey(state){\r\n\t\t\treturn state.shiftKey;\r\n\t\t},\r\n\t\tgetSelectedTopicsLength(state){\r\n\t\t\treturn state.selectedTopics.length;\r\n\t\t},\r\n\t\tgetSelectedTopics(state){\r\n\t\t\treturn state.selectedTopics;\r\n\t\t},\r\n\t\tgetFloatingTopics(state){\r\n\t\t\treturn state.floatingTopics;\r\n\t\t},\r\n\t\tgetTopicCoordinateExtremeties(state){\r\n\t\t\tlet maxX = 0; let minX = 0; let maxY = 0; let minY = 0;\r\n\t\t\tfor (const topic of state.topics) {\r\n\t\t\t\tif(topic.pos.x > maxX) maxX = topic.pos.x;\r\n\t\t\t\tif(topic.pos.x < minX) minX = topic.pos.x;\r\n\t\t\t\tif(topic.pos.y > maxY) maxY = topic.pos.y;\r\n\t\t\t\tif(topic.pos.y < minY) minY = topic.pos.y;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\tminX: minX,\r\n\t\t\t\tmaxX: maxX,\r\n\t\t\t\tminY: minY,\r\n\t\t\t\tmaxY:maxY\r\n\t\t\t};\r\n\t\t},\r\n\t\tgetGraphLayout(state){\r\n\t\t\treturn state.graphLayout;\r\n\t\t},\r\n\t\tgetGraph(state){\r\n\t\t\treturn state.graph;\r\n\t\t},\r\n\t\tgetNewConnection(state){\r\n\t\t\treturn state.newConnection;\r\n\t\t},\r\n\t\tgetCreatingNewConnection(state){\r\n\t\t\treturn state.creatingNewConnection;\r\n\t\t},\r\n\t\tgetRemoveConnectionId(state){\r\n\t\t\treturn state.removeConnectionId;\r\n\t\t},\r\n\t\tgetMenuOptions(state){\r\n\t\t\treturn state.menuOptions;\r\n\t\t},\r\n\t\tgetMenuActive(state){\r\n\t\t\treturn state.menuActive;\r\n\t\t},\r\n\t\tgetMenuBtn(state){\r\n\t\t\treturn state.menuBtn;\r\n\t\t}\r\n\t}\r\n})\r\nexport default store","\r\nimport { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport store from './store'\r\n\r\nconst app = createApp(App)\r\n\r\napp.use(store)\r\n\r\napp.mount('#app')","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PieMenu.vue?vue&type=style&index=0&id=1d75efb7&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ResetBtn.vue?vue&type=style&index=0&id=7ab3847e&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./CanvasViewport.vue?vue&type=style&index=0&id=0a46df64&lang=scss\"","/**\r\n * Springy v2.7.1\r\n *\r\n * Copyright (c) 2010-2013 Dennis Hotson\r\n *\r\n * Permission is hereby granted, free of charge, to any person\r\n * obtaining a copy of this software and associated documentation\r\n * files (the \"Software\"), to deal in the Software without\r\n * restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following\r\n * conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n * OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n(function (root, factory) {\r\n\t /* eslint-disable no-eval */\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(function () {\r\n            return (root.returnExportsGlobal = factory());\r\n        });\r\n    } else if (typeof exports === 'object') {\r\n        // Node. Does not work with strict CommonJS, but\r\n        // only CommonJS-like enviroments that support module.exports,\r\n        // like Node.\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals\r\n        root.Springy = factory();\r\n    }\r\n}(this, function() {\r\n\r\n\tvar Springy = {};\r\n\r\n\tvar Graph = Springy.Graph = function() {\r\n\t\tthis.nodeSet = {};\r\n\t\tthis.nodes = [];\r\n\t\tthis.edges = [];\r\n\t\tthis.adjacency = {};\r\n\r\n\t\tthis.nextNodeId = 0;\r\n\t\tthis.nextEdgeId = 0;\r\n\t\tthis.eventListeners = [];\r\n\t};\r\n\r\n\tvar Node = Springy.Node = function(id, data) {\r\n\t\tif(data.id) this.id = data.id\r\n\t\telse this.id = id;\r\n\t\tthis.data = (data !== undefined) ? data : {};\r\n\r\n\t// Data fields used by layout algorithm in this file:\r\n\t// this.data.mass\r\n\t// Data used by default renderer in springyui.js\r\n\t// this.data.label\r\n\t};\r\n\r\n\tvar Edge = Springy.Edge = function(id, source, target, data) {\r\n\t\tthis.id = id;\r\n\t\tthis.source = source;\r\n\t\tthis.target = target;\r\n\t\tthis.data = (data !== undefined) ? data : {};\r\n\r\n\t// Edge data field used by layout alorithm\r\n\t// this.data.length\r\n\t// this.data.type\r\n\t};\r\n\r\n\tGraph.prototype.addNode = function(node) {\r\n\t\tif (!(node.id in this.nodeSet)) {\r\n\t\t\tthis.nodes.push(node);\r\n\t\t}\r\n\r\n\t\tthis.nodeSet[node.id] = node;\r\n\r\n\t\tthis.notify();\r\n\t\treturn node;\r\n\t};\r\n\r\n\tGraph.prototype.addNodes = function() {\r\n\t\t// accepts variable number of arguments, where each argument\r\n\t\t// is a string that becomes both node identifier and label\r\n\t\tfor (var i = 0; i < arguments.length; i++) {\r\n\t\t\tvar name = arguments[i];\r\n\t\t\tvar node = new Node(name, {label:name});\r\n\t\t\tthis.addNode(node);\r\n\t\t}\r\n\t};\r\n\r\n\tGraph.prototype.addEdge = function(edge) {\r\n\t\tvar exists = false;\r\n\t\tthis.edges.forEach(function(e) {\r\n\t\t\tif (edge.id === e.id) { exists = true; }\r\n\t\t});\r\n\r\n\t\tif (!exists) {\r\n\t\t\tthis.edges.push(edge);\r\n\t\t}\r\n\r\n\t\tif (!(edge.source.id in this.adjacency)) {\r\n\t\t\tthis.adjacency[edge.source.id] = {};\r\n\t\t}\r\n\t\tif (!(edge.target.id in this.adjacency[edge.source.id])) {\r\n\t\t\tthis.adjacency[edge.source.id][edge.target.id] = [];\r\n\t\t}\r\n\r\n\t\texists = false;\r\n\t\tthis.adjacency[edge.source.id][edge.target.id].forEach(function(e) {\r\n\t\t\t\tif (edge.id === e.id) { exists = true; }\r\n\t\t});\r\n\r\n\t\tif (!exists) {\r\n\t\t\tthis.adjacency[edge.source.id][edge.target.id].push(edge);\r\n\t\t}\r\n\r\n\t\tthis.notify();\r\n\t\treturn edge;\r\n\t};\r\n\r\n\tGraph.prototype.addEdges = function() {\r\n\t\t// accepts variable number of arguments, where each argument\r\n\t\t// is a triple [nodeid1, nodeid2, attributes]\r\n\t\tfor (var i = 0; i < arguments.length; i++) {\r\n\t\t\tvar e = arguments[i];\r\n\t\t\tvar node1 = this.nodeSet[e[0]];\r\n\t\t\tif (node1 == undefined) {\r\n\t\t\t\tthrow new TypeError(\"invalid node name: \" + e[0]);\r\n\t\t\t}\r\n\t\t\tvar node2 = this.nodeSet[e[1]];\r\n\t\t\tif (node2 == undefined) {\r\n\t\t\t\tthrow new TypeError(\"invalid node name: \" + e[1]);\r\n\t\t\t}\r\n\t\t\tvar attr = e[2];\r\n\r\n\t\t\tthis.newEdge(node1, node2, attr);\r\n\t\t}\r\n\t};\r\n\r\n\tGraph.prototype.newNode = function(data) {\r\n\t\tvar node = new Node(this.nextNodeId++, data);\r\n\t\tthis.addNode(node);\r\n\t\treturn node;\r\n\t};\r\n\r\n\tGraph.prototype.newEdge = function(source, target, data) {\r\n\t\tvar edge = new Edge(this.nextEdgeId++, source, target, data);\r\n\t\tthis.addEdge(edge);\r\n\t\treturn edge;\r\n\t};\r\n\r\n\r\n\t// add nodes and edges from JSON object\r\n\tGraph.prototype.loadJSON = function(json) {\r\n\t/**\r\n\tSpringy's simple JSON format for graphs.\r\n\r\n\thistorically, Springy uses separate lists\r\n\tof nodes and edges:\r\n\r\n\t\t{\r\n\t\t\t\"nodes\": [\r\n\t\t\t\t\"center\",\r\n\t\t\t\t\"left\",\r\n\t\t\t\t\"right\",\r\n\t\t\t\t\"up\",\r\n\t\t\t\t\"satellite\"\r\n\t\t\t],\r\n\t\t\t\"edges\": [\r\n\t\t\t\t[\"center\", \"left\"],\r\n\t\t\t\t[\"center\", \"right\"],\r\n\t\t\t\t[\"center\", \"up\"]\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t**/\r\n\t\t// parse if a string is passed (EC5+ browsers)\r\n\t\tif (typeof json == 'string' || json instanceof String) {\r\n\t\t\tjson = JSON.parse( json );\r\n\t\t}\r\n\r\n\t\tif ('nodes' in json || 'edges' in json) {\r\n\t\t\tthis.addNodes.apply(this, json['nodes']);\r\n\t\t\tthis.addEdges.apply(this, json['edges']);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t// find the edges from node1 to node2\r\n\tGraph.prototype.getEdges = function(node1, node2) {\r\n\t\tif (node1.id in this.adjacency\r\n\t\t\t&& node2.id in this.adjacency[node1.id]) {\r\n\t\t\treturn this.adjacency[node1.id][node2.id];\r\n\t\t}\r\n\r\n\t\treturn [];\r\n\t};\r\n\r\n\t// remove a node and it's associated edges from the graph\r\n\tGraph.prototype.removeNode = function(node) {\r\n\t\tif (node.id in this.nodeSet) {\r\n\t\t\tdelete this.nodeSet[node.id];\r\n\t\t}\r\n\r\n\t\tfor (var i = this.nodes.length - 1; i >= 0; i--) {\r\n\t\t\tif (this.nodes[i].id === node.id) {\r\n\t\t\t\tthis.nodes.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.detachNode(node);\r\n\t};\r\n\r\n\t// removes edges associated with a given node\r\n\tGraph.prototype.detachNode = function(node) {\r\n\t\tvar tmpEdges = this.edges.slice();\r\n\t\ttmpEdges.forEach(function(e) {\r\n\t\t\tif (e.source.id === node.id || e.target.id === node.id) {\r\n\t\t\t\tthis.removeEdge(e);\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\tthis.notify();\r\n\t};\r\n\r\n\t// remove a node and it's associated edges from the graph\r\n\tGraph.prototype.removeEdge = function(edge) {\r\n\t\tfor (var i = this.edges.length - 1; i >= 0; i--) {\r\n\t\t\tif (this.edges[i].id === edge.id) {\r\n\t\t\t\tthis.edges.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var x in this.adjacency) {\r\n\t\t\tfor (var y in this.adjacency[x]) {\r\n\t\t\t\tvar edges = this.adjacency[x][y];\r\n\r\n\t\t\t\tfor (var j=edges.length - 1; j>=0; j--) {\r\n\t\t\t\t\tif (this.adjacency[x][y][j].id === edge.id) {\r\n\t\t\t\t\t\tthis.adjacency[x][y].splice(j, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Clean up empty edge arrays\r\n\t\t\t\tif (this.adjacency[x][y].length == 0) {\r\n\t\t\t\t\tdelete this.adjacency[x][y];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Clean up empty objects\r\n\t\t\tif (isEmpty(this.adjacency[x])) {\r\n\t\t\t\tdelete this.adjacency[x];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.notify();\r\n\t};\r\n\r\n\t/* Merge a list of nodes and edges into the current graph. eg.\r\n\tvar o = {\r\n\t\tnodes: [\r\n\t\t\t{id: 123, data: {type: 'user', userid: 123, displayname: 'aaa'}},\r\n\t\t\t{id: 234, data: {type: 'user', userid: 234, displayname: 'bbb'}}\r\n\t\t],\r\n\t\tedges: [\r\n\t\t\t{from: 0, to: 1, type: 'submitted_design', directed: true, data: {weight: }}\r\n\t\t]\r\n\t}\r\n\t*/\r\n\tGraph.prototype.merge = function(data) {\r\n\t\tvar nodes = [];\r\n\t\tdata.nodes.forEach(function(n) {\r\n\t\t\tnodes.push(this.addNode(new Node(n.id, n.data)));\r\n\t\t}, this);\r\n\r\n\t\tdata.edges.forEach(function(e) {\r\n\t\t\tvar from = nodes[e.from];\r\n\t\t\tvar to = nodes[e.to];\r\n\r\n\t\t\tvar id = (e.directed)\r\n\t\t\t\t? (id = e.type + \"-\" + from.id + \"-\" + to.id)\r\n\t\t\t\t: (from.id < to.id) // normalise id for non-directed edges\r\n\t\t\t\t\t? e.type + \"-\" + from.id + \"-\" + to.id\r\n\t\t\t\t\t: e.type + \"-\" + to.id + \"-\" + from.id;\r\n\r\n\t\t\tvar edge = this.addEdge(new Edge(id, from, to, e.data));\r\n\t\t\tedge.data.type = e.type;\r\n\t\t}, this);\r\n\t};\r\n\r\n\tGraph.prototype.filterNodes = function(fn) {\r\n\t\tvar tmpNodes = this.nodes.slice();\r\n\t\ttmpNodes.forEach(function(n) {\r\n\t\t\tif (!fn(n)) {\r\n\t\t\t\tthis.removeNode(n);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t};\r\n\r\n\tGraph.prototype.filterEdges = function(fn) {\r\n\t\tvar tmpEdges = this.edges.slice();\r\n\t\ttmpEdges.forEach(function(e) {\r\n\t\t\tif (!fn(e)) {\r\n\t\t\t\tthis.removeEdge(e);\r\n\t\t\t}\r\n\t\t}, this);\r\n\t};\r\n\r\n\r\n\tGraph.prototype.addGraphListener = function(obj) {\r\n\t\tthis.eventListeners.push(obj);\r\n\t};\r\n\r\n\tGraph.prototype.notify = function() {\r\n\t\tthis.eventListeners.forEach(function(obj){\r\n\t\t\tobj.graphChanged();\r\n\t\t});\r\n\t};\r\n\r\n\t// -----------\r\n\tvar Layout = Springy.Layout = {};\r\n\tLayout.ForceDirected = function(graph, stiffness, repulsion, damping, minEnergyThreshold, maxSpeed) {\r\n\t\tthis.graph = graph;\r\n\t\tthis.stiffness = stiffness; // spring stiffness constant\r\n\t\tthis.repulsion = repulsion; // repulsion constant\r\n\t\tthis.damping = damping; // velocity damping factor\r\n\t\tthis.minEnergyThreshold = minEnergyThreshold || 0.01; //threshold used to determine render stop\r\n\t\tthis.maxSpeed = maxSpeed || Infinity; // nodes aren't allowed to exceed this speed\r\n\r\n\t\tthis.nodePoints = {}; // keep track of points associated with nodes\r\n\t\tthis.edgeSprings = {}; // keep track of springs associated with edges\r\n\t};\r\n\r\n\tLayout.ForceDirected.prototype.point = function(node) {\r\n\t\tif (!(node.id in this.nodePoints)) {\r\n\t\t\tvar mass = (node.data.mass !== undefined) ? node.data.mass : 1.0;\r\n\t\t\tthis.nodePoints[node.id] = new Layout.ForceDirected.Point(Vector.random(), mass, node.id);\r\n\t\t}\r\n\r\n\t\treturn this.nodePoints[node.id];\r\n\t};\r\n\tLayout.ForceDirected.prototype.spring = function(edge) {\r\n\t\tif (!(edge.id in this.edgeSprings)) {\r\n\t\t\tvar length = (edge.data.length !== undefined) ? edge.data.length : 1.0;\r\n\r\n\t\t\tvar existingSpring = false;\r\n\r\n\t\t\tvar from = this.graph.getEdges(edge.source, edge.target);\r\n\t\t\tfrom.forEach(function(e) {\r\n\t\t\t\tif (existingSpring === false && e.id in this.edgeSprings) {\r\n\t\t\t\t\texistingSpring = this.edgeSprings[e.id];\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\tif (existingSpring !== false) {\r\n\t\t\t\treturn new Layout.ForceDirected.Spring(existingSpring.point1, existingSpring.point2, 0.0, 0.0);\r\n\t\t\t}\r\n\r\n\t\t\tvar to = this.graph.getEdges(edge.target, edge.source);\r\n\t\t\tfrom.forEach(function(e){\r\n\t\t\t\tif (existingSpring === false && e.id in this.edgeSprings) {\r\n\t\t\t\t\texistingSpring = this.edgeSprings[e.id];\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\tif (existingSpring !== false) {\r\n\t\t\t\treturn new Layout.ForceDirected.Spring(existingSpring.point2, existingSpring.point1, 0.0, 0.0);\r\n\t\t\t}\r\n\r\n\t\t\tthis.edgeSprings[edge.id] = new Layout.ForceDirected.Spring(\r\n\t\t\t\tthis.point(edge.source), this.point(edge.target), length, edge.data // edge.data is the custom k stiffness\r\n\t\t\t);\r\n\t\t\t\r\n\t\t}\r\n\t\treturn this.edgeSprings[edge.id];\r\n\t};\r\n\r\n\t// callback should accept two arguments: Node, Point\r\n\tLayout.ForceDirected.prototype.eachNode = function(callback) {\r\n\t\tvar t = this;\r\n\t\tthis.graph.nodes.forEach(function(n){\r\n\t\t\tcallback.call(t, n, t.point(n));\r\n\t\t});\r\n\t};\r\n\r\n\t// callback should accept two arguments: Edge, Spring\r\n\tLayout.ForceDirected.prototype.eachEdge = function(callback) {\r\n\t\tvar t = this;\r\n\t\tthis.graph.edges.forEach(function(e){\r\n\t\t\tcallback.call(t, e, t.spring(e));\r\n\t\t});\r\n\t};\r\n\r\n\t// callback should accept one argument: Spring\r\n\tLayout.ForceDirected.prototype.eachSpring = function(callback) {\r\n\t\tvar t = this;\r\n\t\tthis.graph.edges.forEach(function(e){\r\n\t\t\tcallback.call(t, t.spring(e));\r\n\t\t});\r\n\t};\r\n\r\n\r\n\t// Physics stuff\r\n\tLayout.ForceDirected.prototype.applyCoulombsLaw = function() {\r\n\t\tthis.eachNode(function(n1, point1) {\r\n\t\t\tthis.eachNode(function(n2, point2) {\r\n\t\t\t\tif (point1 !== point2)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar d = point1.p.subtract(point2.p);\r\n\t\t\t\t\tvar distance = d.magnitude() + 0.1; // avoid massive forces at small distances (and divide by zero)\r\n\t\t\t\t\tvar direction = d.normalise();\r\n\r\n\t\t\t\t\t// apply force to each end point\r\n\t\t\t\t\tpoint1.applyForce(direction.multiply(this.repulsion).divide(distance * distance * 0.5));\r\n\t\t\t\t\tpoint2.applyForce(direction.multiply(this.repulsion).divide(distance * distance * -0.5));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\tLayout.ForceDirected.prototype.applyHookesLaw = function() {\r\n\t\tthis.eachSpring(function(spring){\r\n\t\t\tvar d = spring.point2.p.subtract(spring.point1.p); // the direction of the spring\r\n\t\t\tvar displacement = spring.length - d.magnitude();\r\n\t\t\tvar direction = d.normalise();\r\n\r\n\t\t\t// apply force to each end point\r\n\t\t\tspring.point1.applyForce(direction.multiply(spring.k * displacement * -0.5));\r\n\t\t\tspring.point2.applyForce(direction.multiply(spring.k * displacement * 0.5));\r\n\t\t});\r\n\t};\r\n\r\n\tLayout.ForceDirected.prototype.attractToCentre = function() {\r\n\t\tthis.eachNode(function(node, point) {\r\n\t\t\tvar direction = point.p.multiply(-1.0);\r\n\t\t\tpoint.applyForce(direction.multiply(this.repulsion / 50.0));\r\n\t\t});\r\n\t};\r\n\r\n\r\n\tLayout.ForceDirected.prototype.updateVelocity = function(timestep) {\r\n\t\tthis.eachNode(function(node, point) {\r\n\t\t\t// Is this, along with updatePosition below, the only places that your\r\n\t\t\t// integration code exist?\r\n\t\t\tpoint.v = point.v.add(point.a.multiply(timestep)).multiply(this.damping);\r\n\t\t\tif (point.v.magnitude() > this.maxSpeed) {\r\n\t\t\t    point.v = point.v.normalise().multiply(this.maxSpeed);\r\n\t\t\t}\r\n\t\t\tpoint.a = new Vector(0,0);\r\n\t\t});\r\n\t};\r\n\r\n\tLayout.ForceDirected.prototype.updatePosition = function(timestep) {\r\n\t\tthis.eachNode(function(node, point) {\r\n\t\t\t// Same question as above; along with updateVelocity, is this all of\r\n\t\t\t// your integration code?\r\n\t\t\tpoint.p = point.p.add(point.v.multiply(timestep));\r\n\t\t});\r\n\t};\r\n\r\n\t// Calculate the total kinetic energy of the system\r\n\tLayout.ForceDirected.prototype.totalEnergy = function(timestep) {\r\n\t\tvar energy = 0.0;\r\n\t\tthis.eachNode(function(node, point) {\r\n\t\t\tvar speed = point.v.magnitude();\r\n\t\t\tenergy += 0.5 * point.m * speed * speed;\r\n\t\t});\r\n\r\n\t\t//return energy;\r\n\t\t//UGLY HACK\r\n\t\treturn 1;\r\n\t};\r\n\r\n\tvar __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; }; // stolen from coffeescript, thanks jashkenas! ;-)\r\n\r\n\tSpringy.requestAnimationFrame = __bind(this.requestAnimationFrame ||\r\n\t\tthis.webkitRequestAnimationFrame ||\r\n\t\tthis.mozRequestAnimationFrame ||\r\n\t\tthis.oRequestAnimationFrame ||\r\n\t\tthis.msRequestAnimationFrame ||\r\n\t\t(function(callback, element) {\r\n\t\t\tthis.setTimeout(callback, 10);\r\n\t\t}), this);\r\n\r\n\r\n\t/**\r\n\t * Start simulation if it's not running already.\r\n\t * In case it's running then the call is ignored, and none of the callbacks passed is ever executed.\r\n\t */\r\n\tLayout.ForceDirected.prototype.start = function(render, onRenderStop, onRenderStart) {\r\n\t\tvar t = this;\r\n\r\n\t\tif (this._started) return;\r\n\t\tthis._started = true;\r\n\t\tthis._stop = false;\r\n\r\n\t\tif (onRenderStart !== undefined) { onRenderStart(); }\r\n\r\n\t\tSpringy.requestAnimationFrame(function step() {\r\n\t\t\tt.tick(0.03);\r\n\r\n\t\t\tif (render !== undefined) {\r\n\t\t\t\trender();\r\n\t\t\t}\r\n\r\n\t\t\t// stop simulation when energy of the system goes below a threshold\r\n\t\t\tif (t._stop || t.totalEnergy() < t.minEnergyThreshold) {\r\n\t\t\t\tt._started = false;\r\n\t\t\t\tif (onRenderStop !== undefined) { onRenderStop(); }\r\n\t\t\t} else {\r\n\t\t\t\tSpringy.requestAnimationFrame(step);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tLayout.ForceDirected.prototype.stop = function() {\r\n\t\tthis._stop = true;\r\n\t}\r\n\r\n\tLayout.ForceDirected.prototype.tick = function(timestep) {\r\n\t\tthis.applyCoulombsLaw();\r\n\t\tthis.applyHookesLaw();\r\n\t\tthis.attractToCentre();\r\n\t\tthis.updateVelocity(timestep);\r\n\t\tthis.updatePosition(timestep);\r\n\t};\r\n\r\n\t// Find the nearest point to a particular position\r\n\tLayout.ForceDirected.prototype.nearest = function(pos) {\r\n\t\tvar min = {node: null, point: null, distance: null};\r\n\t\tvar t = this;\r\n\t\tthis.graph.nodes.forEach(function(n){\r\n\t\t\tvar point = t.point(n);\r\n\t\t\tvar distance = point.p.subtract(pos).magnitude();\r\n\r\n\t\t\tif (min.distance === null || distance < min.distance) {\r\n\t\t\t\tmin = {node: n, point: point, distance: distance};\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn min;\r\n\t};\r\n\r\n\t// returns [bottomleft, topright]\r\n\tLayout.ForceDirected.prototype.getBoundingBox = function() {\r\n\t\tvar bottomleft = new Vector(-2,-2);\r\n\t\tvar topright = new Vector(2,2);\r\n\r\n\t\tthis.eachNode(function(n, point) {\r\n\t\t\tif (point.p.x < bottomleft.x) {\r\n\t\t\t\tbottomleft.x = point.p.x;\r\n\t\t\t}\r\n\t\t\tif (point.p.y < bottomleft.y) {\r\n\t\t\t\tbottomleft.y = point.p.y;\r\n\t\t\t}\r\n\t\t\tif (point.p.x > topright.x) {\r\n\t\t\t\ttopright.x = point.p.x;\r\n\t\t\t}\r\n\t\t\tif (point.p.y > topright.y) {\r\n\t\t\t\ttopright.y = point.p.y;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tvar padding = topright.subtract(bottomleft).multiply(0.07); // ~5% padding\r\n\r\n\t\treturn {bottomleft: bottomleft.subtract(padding), topright: topright.add(padding)};\r\n\t};\r\n\r\n\r\n\t// Vector\r\n\tvar Vector = Springy.Vector = function(x, y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t};\r\n\r\n\tVector.random = function() {\r\n\t\treturn new Vector(10.0 * (Math.random() - 0.5), 10.0 * (Math.random() - 0.5));\r\n\t};\r\n\r\n\tVector.prototype.add = function(v2) {\r\n\t\treturn new Vector(this.x + v2.x, this.y + v2.y);\r\n\t};\r\n\r\n\tVector.prototype.subtract = function(v2) {\r\n\t\treturn new Vector(this.x - v2.x, this.y - v2.y);\r\n\t};\r\n\r\n\tVector.prototype.multiply = function(n) {\r\n\t\treturn new Vector(this.x * n, this.y * n);\r\n\t};\r\n\r\n\tVector.prototype.divide = function(n) {\r\n\t\treturn new Vector((this.x / n) || 0, (this.y / n) || 0); // Avoid divide by zero errors..\r\n\t};\r\n\r\n\tVector.prototype.magnitude = function() {\r\n\t\treturn Math.sqrt(this.x*this.x + this.y*this.y);\r\n\t};\r\n\r\n\tVector.prototype.normal = function() {\r\n\t\treturn new Vector(-this.y, this.x);\r\n\t};\r\n\r\n\tVector.prototype.normalise = function() {\r\n\t\treturn this.divide(this.magnitude());\r\n\t};\r\n\r\n\t// Point\r\n\tLayout.ForceDirected.Point = function(position, mass, id) {\r\n\t\tthis.p = position; // position\r\n\t\tthis.m = mass; // mass\r\n\t\tthis.id = id;\r\n\t\tthis.v = new Vector(0, 0); // velocity\r\n\t\tthis.a = new Vector(0, 0); // acceleration\r\n\t};\r\n\r\n\tLayout.ForceDirected.Point.prototype.applyForce = function(force) {\r\n\t\tthis.a = this.a.add(force.divide(this.m));\r\n\t};\r\n\r\n\t// Spring\r\n\tLayout.ForceDirected.Spring = function(point1, point2, length, k) {\r\n\t\tthis.point1 = point1;\r\n\t\tthis.point2 = point2;\r\n\t\tthis.length = length; // spring length at rest\r\n\t\tthis.k = k; // spring constant (See Hooke's law) .. how stiff the spring is\r\n\t};\r\n\r\n\t// Layout.ForceDirected.Spring.prototype.distanceToPoint = function(point)\r\n\t// {\r\n\t// \t// hardcore vector arithmetic.. ohh yeah!\r\n\t// \t// .. see http://stackoverflow.com/questions/849211/shortest-distance-between-a-point-and-a-line-segment/865080#865080\r\n\t// \tvar n = this.point2.p.subtract(this.point1.p).normalise().normal();\r\n\t// \tvar ac = point.p.subtract(this.point1.p);\r\n\t// \treturn Math.abs(ac.x * n.x + ac.y * n.y);\r\n\t// };\r\n\r\n\t/**\r\n\t * Renderer handles the layout rendering loop\r\n\t * @param onRenderStop optional callback function that gets executed whenever rendering stops.\r\n\t * @param onRenderStart optional callback function that gets executed whenever rendering starts.\r\n\t * @param onRenderFrame optional callback function that gets executed after each frame is rendered.\r\n\t */\r\n\tvar Renderer = Springy.Renderer = function(layout, clear, drawEdge, drawNode, onRenderStop, onRenderStart, onRenderFrame) {\r\n\t\tthis.layout = layout;\r\n\t\tthis.clear = clear;\r\n\t\tthis.drawEdge = drawEdge;\r\n\t\tthis.drawNode = drawNode;\r\n\t\tthis.onRenderStop = onRenderStop;\r\n\t\tthis.onRenderStart = onRenderStart;\r\n\t\tthis.onRenderFrame = onRenderFrame;\r\n\r\n\t\tthis.layout.graph.addGraphListener(this);\r\n\t}\r\n\r\n\tRenderer.prototype.graphChanged = function(e) {\r\n\t\tthis.start();\r\n\t};\r\n\r\n\t/**\r\n\t * Starts the simulation of the layout in use.\r\n\t *\r\n\t * Note that in case the algorithm is still or already running then the layout that's in use\r\n\t * might silently ignore the call, and your optional <code>done</code> callback is never executed.\r\n\t * At least the built-in ForceDirected layout behaves in this way.\r\n\t *\r\n\t * @param done An optional callback function that gets executed when the springy algorithm stops,\r\n\t * either because it ended or because stop() was called.\r\n\t */\r\n\tRenderer.prototype.start = function(done) {\r\n\t\tvar t = this;\r\n\t\tthis.layout.start(function render() {\r\n\t\t\tt.clear();\r\n\r\n\t\t\tt.layout.eachEdge(function(edge, spring) {\r\n\t\t\t\tt.drawEdge(edge, spring.point1.p, spring.point2.p);\r\n\t\t\t});\r\n\r\n\t\t\tt.layout.eachNode(function(node, point) {\r\n\t\t\t\tt.drawNode(node, point);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (t.onRenderFrame !== undefined) { t.onRenderFrame(); }\r\n\t\t}, this.onRenderStop, this.onRenderStart);\r\n\t};\r\n\r\n\tRenderer.prototype.stop = function() {\r\n\t\tthis.layout.stop();\r\n\t};\r\n\r\n\t// Array.forEach implementation for IE support..\r\n\t//https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/forEach\r\n\tif ( !Array.prototype.forEach ) {\r\n\t\tArray.prototype.forEach = function( callback, thisArg ) {\r\n\t\t\tvar T, k;\r\n\t\t\tif ( this == null ) {\r\n\t\t\t\tthrow new TypeError( \" this is null or not defined\" );\r\n\t\t\t}\r\n\t\t\tvar O = Object(this);\r\n\t\t\tvar len = O.length >>> 0; // Hack to convert O.length to a UInt32\r\n\t\t\tif ( {}.toString.call(callback) != \"[object Function]\" ) {\r\n\t\t\t\tthrow new TypeError( callback + \" is not a function\" );\r\n\t\t\t}\r\n\t\t\tif ( thisArg ) {\r\n\t\t\t\tT = thisArg;\r\n\t\t\t}\r\n\t\t\tk = 0;\r\n\t\t\twhile( k < len ) {\r\n\t\t\t\tvar kValue;\r\n\t\t\t\tif ( k in O ) {\r\n\t\t\t\t\tkValue = O[ k ];\r\n\t\t\t\t\tcallback.call( T, kValue, k, O );\r\n\t\t\t\t}\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tvar isEmpty = function(obj) {\r\n\t\tfor (var k in obj) {\r\n\t\t\tif (obj.hasOwnProperty(k)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n  return Springy;\r\n}));\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopicLinesSvg.vue?vue&type=style&index=0&id=21aa41db&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=02a38867&lang=css\""],"sourceRoot":""}